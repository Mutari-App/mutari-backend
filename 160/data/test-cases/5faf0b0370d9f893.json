{"uid":"5faf0b0370d9f893","name":"should update an itinerary with defaults for deleted/missing fields","fullName":"itinerary/itinerary.service.spec.ts#ItineraryService updateItinerary should update an itinerary with defaults for deleted/missing fields","historyId":"60181d0c36db80c4cfa0d8a55575637f:d41d8cd98f00b204e9800998ecf8427e","time":{"start":1744044349478,"stop":1744044349485,"duration":7},"status":"failed","statusMessage":"expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n@@ -12,10 +12,11 @@\n            \"sectionNumber\": 1,\n            \"title\": \"Hari ke-1\",\n          },\n        ],\n        \"deleteMany\": Object {\n+         \"contingencyPlanId\": null,\n          \"itineraryId\": \"itinerary-123\",\n        },\n      },\n      \"startDate\": 2025-05-10T00:00:00.000Z,\n      \"tags\": Object {\n@@ -27,11 +28,16 @@\n      \"title\": \"Default Section Title Trip\",\n    },\n    \"include\": Object {\n      \"sections\": Object {\n        \"include\": Object {\n-         \"blocks\": true,\n+         \"blocks\": Object {\n+           \"include\": Object {\n+             \"routeFromPrevious\": true,\n+             \"routeToNext\": true,\n+           },\n+         },\n        },\n      },\n      \"tags\": Object {\n        \"include\": Object {\n          \"tag\": true,,\n\nNumber of calls: 1","statusTrace":"Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n@@ -12,10 +12,11 @@\n            \"sectionNumber\": 1,\n            \"title\": \"Hari ke-1\",\n          },\n        ],\n        \"deleteMany\": Object {\n+         \"contingencyPlanId\": null,\n          \"itineraryId\": \"itinerary-123\",\n        },\n      },\n      \"startDate\": 2025-05-10T00:00:00.000Z,\n      \"tags\": Object {\n@@ -27,11 +28,16 @@\n      \"title\": \"Default Section Title Trip\",\n    },\n    \"include\": Object {\n      \"sections\": Object {\n        \"include\": Object {\n-         \"blocks\": true,\n+         \"blocks\": Object {\n+           \"include\": Object {\n+             \"routeFromPrevious\": true,\n+             \"routeToNext\": true,\n+           },\n+         },\n        },\n      },\n      \"tags\": Object {\n        \"include\": Object {\n          \"tag\": true,,\n\nNumber of calls: 1\n    at Object.<anonymous> (/home/runner/work/mutari-backend/mutari-backend/src/itinerary/itinerary.service.spec.ts:864:50)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"beforeEach","time":{"start":1744044349478,"stop":1744044349481,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"afterStages":[{"name":"afterEach","time":{"start":1744044349485,"stop":1744044349485,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"labels":[{"name":"language","value":"javascript"},{"name":"framework","value":"jest"},{"name":"package","value":"itinerary.itinerary.service.spec.ts"},{"name":"host","value":"fv-az1055-626"},{"name":"thread","value":"1"},{"name":"parentSuite","value":"ItineraryService"},{"name":"suite","value":"updateItinerary"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":1,"broken":1,"skipped":0,"passed":78,"unknown":0,"total":80},"items":[{"uid":"8c07414fd19f94d9","reportUrl":"https://Mutari-App.github.io/mutari-backend/159//#testresult/8c07414fd19f94d9","status":"passed","time":{"start":1744040439571,"stop":1744040439575,"duration":4}},{"uid":"97d33ede09ffc504","reportUrl":"https://Mutari-App.github.io/mutari-backend/158//#testresult/97d33ede09ffc504","status":"passed","time":{"start":1744016381085,"stop":1744016381095,"duration":10}},{"uid":"cf83c8ea51c76ddb","reportUrl":"https://Mutari-App.github.io/mutari-backend/157//#testresult/cf83c8ea51c76ddb","status":"passed","time":{"start":1744002871877,"stop":1744002871884,"duration":7}},{"uid":"b59ecd139ea2c58b","reportUrl":"https://Mutari-App.github.io/mutari-backend/156//#testresult/b59ecd139ea2c58b","status":"passed","time":{"start":1743971260703,"stop":1743971260711,"duration":8}},{"uid":"e6208d9cf591a9a1","reportUrl":"https://Mutari-App.github.io/mutari-backend/155//#testresult/e6208d9cf591a9a1","status":"passed","time":{"start":1743969707222,"stop":1743969707230,"duration":8}},{"uid":"58ec792241b50f82","reportUrl":"https://Mutari-App.github.io/mutari-backend/154//#testresult/58ec792241b50f82","status":"passed","time":{"start":1743961027097,"stop":1743961027101,"duration":4}},{"uid":"5d307cc8f604e4a5","reportUrl":"https://Mutari-App.github.io/mutari-backend/153//#testresult/5d307cc8f604e4a5","status":"passed","time":{"start":1743960779607,"stop":1743960779612,"duration":5}},{"uid":"9e3f8324cd8acfa7","reportUrl":"https://Mutari-App.github.io/mutari-backend/152//#testresult/9e3f8324cd8acfa7","status":"passed","time":{"start":1743959387393,"stop":1743959387403,"duration":10}},{"uid":"625716741bfc4272","reportUrl":"https://Mutari-App.github.io/mutari-backend/151//#testresult/625716741bfc4272","status":"passed","time":{"start":1743957568279,"stop":1743957568284,"duration":5}},{"uid":"68697726cff939f1","reportUrl":"https://Mutari-App.github.io/mutari-backend/150//#testresult/68697726cff939f1","status":"passed","time":{"start":1743957036448,"stop":1743957036458,"duration":10}},{"uid":"529f569ceee903dd","reportUrl":"https://Mutari-App.github.io/mutari-backend/149//#testresult/529f569ceee903dd","status":"passed","time":{"start":1743932466056,"stop":1743932466063,"duration":7}},{"uid":"ae0084035f3be19f","reportUrl":"https://Mutari-App.github.io/mutari-backend/148//#testresult/ae0084035f3be19f","status":"passed","time":{"start":1743912225160,"stop":1743912225164,"duration":4}},{"uid":"2be8ad5422e925cd","reportUrl":"https://Mutari-App.github.io/mutari-backend/147//#testresult/2be8ad5422e925cd","status":"passed","time":{"start":1743876316106,"stop":1743876316109,"duration":3}},{"uid":"afbab4a0f0ae3029","reportUrl":"https://Mutari-App.github.io/mutari-backend/146//#testresult/afbab4a0f0ae3029","status":"passed","time":{"start":1743875041847,"stop":1743875041853,"duration":6}},{"uid":"4dcd993f065f543","reportUrl":"https://Mutari-App.github.io/mutari-backend/145//#testresult/4dcd993f065f543","status":"passed","time":{"start":1743871537923,"stop":1743871537930,"duration":7}},{"uid":"9094d95d2e4413b4","reportUrl":"https://Mutari-App.github.io/mutari-backend/144//#testresult/9094d95d2e4413b4","status":"passed","time":{"start":1743870428439,"stop":1743870428445,"duration":6}},{"uid":"e9b6bca1835405ca","reportUrl":"https://Mutari-App.github.io/mutari-backend/143//#testresult/e9b6bca1835405ca","status":"passed","time":{"start":1743867489118,"stop":1743867489122,"duration":4}},{"uid":"99e59de136ec9ff5","reportUrl":"https://Mutari-App.github.io/mutari-backend/142//#testresult/99e59de136ec9ff5","status":"passed","time":{"start":1743865472274,"stop":1743865472282,"duration":8}},{"uid":"d004df3ffc952d0d","reportUrl":"https://Mutari-App.github.io/mutari-backend/141//#testresult/d004df3ffc952d0d","status":"passed","time":{"start":1743855377671,"stop":1743855377680,"duration":9}},{"uid":"574d7275337ae1c5","reportUrl":"https://Mutari-App.github.io/mutari-backend/140//#testresult/574d7275337ae1c5","status":"passed","time":{"start":1743834898808,"stop":1743834898815,"duration":7}}]},"tags":[]},"source":"5faf0b0370d9f893.json","parameterValues":[]}