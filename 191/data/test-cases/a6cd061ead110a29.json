{"uid":"a6cd061ead110a29","name":"should throw NotFoundException if contingency does not exist","fullName":"itinerary/itinerary.service.spec.ts#ItineraryService duplicateContingency should throw NotFoundException if contingency does not exist","historyId":"a355e32304d39ac8a2059d5e9287b5c1:d41d8cd98f00b204e9800998ecf8427e","time":{"start":1745511061929,"stop":1745511061989,"duration":60},"status":"failed","statusMessage":"expect(received).rejects.toThrow(expected)\n\nExpected constructor: NotFoundException\nReceived constructor: ForbiddenException\n\nReceived message: \"You do not have permission to update this itinerary\"\n\n      413 |\n      414 |     if (itinerary.userId !== user.id) {\n    > 415 |       throw new ForbiddenException(\n          |             ^\n      416 |         'You do not have permission to update this itinerary'\n      417 |       )\n      418 |     }\n\n      at ItineraryService._checkUpdateItineraryPermission (src/itinerary/itinerary.service.ts:415:13)\n      at ItineraryService.findContingencyPlan (src/itinerary/itinerary.service.ts:1078:23)\n      at ItineraryService.duplicateContingency (src/itinerary/itinerary.service.ts:345:28)\n      at Object.<anonymous> (src/itinerary/itinerary.service.spec.ts:4260:7)","statusTrace":"Error: expect(received).rejects.toThrow(expected)\n\nExpected constructor: NotFoundException\nReceived constructor: ForbiddenException\n\nReceived message: \"You do not have permission to update this itinerary\"\n\n      413 |\n      414 |     if (itinerary.userId !== user.id) {\n    > 415 |       throw new ForbiddenException(\n          |             ^\n      416 |         'You do not have permission to update this itinerary'\n      417 |       )\n      418 |     }\n\n      at ItineraryService._checkUpdateItineraryPermission (src/itinerary/itinerary.service.ts:415:13)\n      at ItineraryService.findContingencyPlan (src/itinerary/itinerary.service.ts:1078:23)\n      at ItineraryService.duplicateContingency (src/itinerary/itinerary.service.ts:345:28)\n      at Object.<anonymous> (src/itinerary/itinerary.service.spec.ts:4260:7)\n    at Object.toThrow (/home/runner/work/mutari-backend/mutari-backend/node_modules/.pnpm/expect@29.7.0/node_modules/expect/build/index.js:218:22)\n    at Object.<anonymous> (/home/runner/work/mutari-backend/mutari-backend/src/itinerary/itinerary.service.spec.ts:4266:17)\n    at Promise.then.completed (/home/runner/work/mutari-backend/mutari-backend/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/runner/work/mutari-backend/mutari-backend/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/runner/work/mutari-backend/mutari-backend/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/home/runner/work/mutari-backend/mutari-backend/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/runner/work/mutari-backend/mutari-backend/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/runner/work/mutari-backend/mutari-backend/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/runner/work/mutari-backend/mutari-backend/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/runner/work/mutari-backend/mutari-backend/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/runner/work/mutari-backend/mutari-backend/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/runner/work/mutari-backend/mutari-backend/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/runner/work/mutari-backend/mutari-backend/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/runner/work/mutari-backend/mutari-backend/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/runner/work/mutari-backend/mutari-backend/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/testWorker.js:106:12)","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"beforeEach","time":{"start":1745511061929,"stop":1745511061931,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"afterStages":[{"name":"afterEach","time":{"start":1745511061989,"stop":1745511061989,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"labels":[{"name":"language","value":"javascript"},{"name":"framework","value":"jest"},{"name":"package","value":"itinerary.itinerary.service.spec.ts"},{"name":"host","value":"fv-az2246-973"},{"name":"thread","value":"1"},{"name":"parentSuite","value":"ItineraryService"},{"name":"suite","value":"duplicateContingency"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"a6cd061ead110a29.json","parameterValues":[]}