{"uid":"6cc7664a413b8f18","name":"should update an itinerary with defaults for missing block fields","fullName":"itinerary/itinerary.service.spec.ts#ItineraryService updateItinerary should update an itinerary with defaults for missing block fields","historyId":"103ee996b64879cf0601b39dd14d7758:d41d8cd98f00b204e9800998ecf8427e","time":{"start":1744053320270,"stop":1744053320283,"duration":13},"status":"failed","statusMessage":"expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n@@ -24,10 +24,11 @@\n            \"sectionNumber\": 1,\n            \"title\": \"Hari ke-1\",\n          },\n        ],\n        \"deleteMany\": Object {\n+         \"contingencyPlanId\": null,\n          \"itineraryId\": \"itinerary-123\",\n        },\n      },\n      \"startDate\": 2025-05-10T00:00:00.000Z,\n      \"tags\": Object {\n@@ -39,11 +40,16 @@\n      \"title\": \"Default New Block Trip\",\n    },\n    \"include\": Object {\n      \"sections\": Object {\n        \"include\": Object {\n-         \"blocks\": true,\n+         \"blocks\": Object {\n+           \"include\": Object {\n+             \"routeFromPrevious\": true,\n+             \"routeToNext\": true,\n+           },\n+         },\n        },\n      },\n      \"tags\": Object {\n        \"include\": Object {\n          \"tag\": true,,\n\nNumber of calls: 1","statusTrace":"Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n@@ -24,10 +24,11 @@\n            \"sectionNumber\": 1,\n            \"title\": \"Hari ke-1\",\n          },\n        ],\n        \"deleteMany\": Object {\n+         \"contingencyPlanId\": null,\n          \"itineraryId\": \"itinerary-123\",\n        },\n      },\n      \"startDate\": 2025-05-10T00:00:00.000Z,\n      \"tags\": Object {\n@@ -39,11 +40,16 @@\n      \"title\": \"Default New Block Trip\",\n    },\n    \"include\": Object {\n      \"sections\": Object {\n        \"include\": Object {\n-         \"blocks\": true,\n+         \"blocks\": Object {\n+           \"include\": Object {\n+             \"routeFromPrevious\": true,\n+             \"routeToNext\": true,\n+           },\n+         },\n        },\n      },\n      \"tags\": Object {\n        \"include\": Object {\n          \"tag\": true,,\n\nNumber of calls: 1\n    at Object.<anonymous> (/home/runner/work/mutari-backend/mutari-backend/src/itinerary/itinerary.service.spec.ts:996:50)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"beforeEach","time":{"start":1744053320270,"stop":1744053320272,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"afterStages":[{"name":"afterEach","time":{"start":1744053320283,"stop":1744053320283,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"labels":[{"name":"language","value":"javascript"},{"name":"framework","value":"jest"},{"name":"package","value":"itinerary.itinerary.service.spec.ts"},{"name":"host","value":"fv-az1950-360"},{"name":"thread","value":"1"},{"name":"parentSuite","value":"ItineraryService"},{"name":"suite","value":"updateItinerary"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":2,"broken":1,"skipped":0,"passed":78,"unknown":0,"total":81},"items":[{"uid":"2e95a37e72c9b4b6","reportUrl":"https://Mutari-App.github.io/mutari-backend/160//#testresult/2e95a37e72c9b4b6","status":"failed","statusDetails":"expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n@@ -24,10 +24,11 @@\n            \"sectionNumber\": 1,\n            \"title\": \"Hari ke-1\",\n          },\n        ],\n        \"deleteMany\": Object {\n+         \"contingencyPlanId\": null,\n          \"itineraryId\": \"itinerary-123\",\n        },\n      },\n      \"startDate\": 2025-05-10T00:00:00.000Z,\n      \"tags\": Object {\n@@ -39,11 +40,16 @@\n      \"title\": \"Default New Block Trip\",\n    },\n    \"include\": Object {\n      \"sections\": Object {\n        \"include\": Object {\n-         \"blocks\": true,\n+         \"blocks\": Object {\n+           \"include\": Object {\n+             \"routeFromPrevious\": true,\n+             \"routeToNext\": true,\n+           },\n+         },\n        },\n      },\n      \"tags\": Object {\n        \"include\": Object {\n          \"tag\": true,,\n\nNumber of calls: 1","time":{"start":1744044349486,"stop":1744044349503,"duration":17}},{"uid":"381b36bd15ec9fbe","reportUrl":"https://Mutari-App.github.io/mutari-backend/159//#testresult/381b36bd15ec9fbe","status":"passed","time":{"start":1744040439575,"stop":1744040439581,"duration":6}},{"uid":"8dfb834c36221362","reportUrl":"https://Mutari-App.github.io/mutari-backend/158//#testresult/8dfb834c36221362","status":"passed","time":{"start":1744016381096,"stop":1744016381103,"duration":7}},{"uid":"7a2df79f4aca1574","reportUrl":"https://Mutari-App.github.io/mutari-backend/157//#testresult/7a2df79f4aca1574","status":"passed","time":{"start":1744002871884,"stop":1744002871888,"duration":4}},{"uid":"8ca167d41912cfdb","reportUrl":"https://Mutari-App.github.io/mutari-backend/156//#testresult/8ca167d41912cfdb","status":"passed","time":{"start":1743971260712,"stop":1743971260721,"duration":9}},{"uid":"b94c1803c852c8ca","reportUrl":"https://Mutari-App.github.io/mutari-backend/155//#testresult/b94c1803c852c8ca","status":"passed","time":{"start":1743969707236,"stop":1743969707244,"duration":8}},{"uid":"869a6a0824f98dd2","reportUrl":"https://Mutari-App.github.io/mutari-backend/154//#testresult/869a6a0824f98dd2","status":"passed","time":{"start":1743961027101,"stop":1743961027105,"duration":4}},{"uid":"e9c4a982e630c32f","reportUrl":"https://Mutari-App.github.io/mutari-backend/153//#testresult/e9c4a982e630c32f","status":"passed","time":{"start":1743960779615,"stop":1743960779624,"duration":9}},{"uid":"fd646e7c40f2fd52","reportUrl":"https://Mutari-App.github.io/mutari-backend/152//#testresult/fd646e7c40f2fd52","status":"passed","time":{"start":1743959387403,"stop":1743959387410,"duration":7}},{"uid":"8296e97a89f97d8a","reportUrl":"https://Mutari-App.github.io/mutari-backend/151//#testresult/8296e97a89f97d8a","status":"passed","time":{"start":1743957568285,"stop":1743957568291,"duration":6}},{"uid":"a18ff530e5acd308","reportUrl":"https://Mutari-App.github.io/mutari-backend/150//#testresult/a18ff530e5acd308","status":"passed","time":{"start":1743957036459,"stop":1743957036477,"duration":18}},{"uid":"198cdd3ff684b7ef","reportUrl":"https://Mutari-App.github.io/mutari-backend/149//#testresult/198cdd3ff684b7ef","status":"passed","time":{"start":1743932466067,"stop":1743932466071,"duration":4}},{"uid":"2f2fa94883cef93e","reportUrl":"https://Mutari-App.github.io/mutari-backend/148//#testresult/2f2fa94883cef93e","status":"passed","time":{"start":1743912225165,"stop":1743912225171,"duration":6}},{"uid":"5d568220ce92d4d7","reportUrl":"https://Mutari-App.github.io/mutari-backend/147//#testresult/5d568220ce92d4d7","status":"passed","time":{"start":1743876316122,"stop":1743876316126,"duration":4}},{"uid":"d072e065cc98b4c0","reportUrl":"https://Mutari-App.github.io/mutari-backend/146//#testresult/d072e065cc98b4c0","status":"passed","time":{"start":1743875041853,"stop":1743875041857,"duration":4}},{"uid":"ec13b5e145ac2fef","reportUrl":"https://Mutari-App.github.io/mutari-backend/145//#testresult/ec13b5e145ac2fef","status":"passed","time":{"start":1743871537931,"stop":1743871537943,"duration":12}},{"uid":"9a46750a46feff0b","reportUrl":"https://Mutari-App.github.io/mutari-backend/144//#testresult/9a46750a46feff0b","status":"passed","time":{"start":1743870428445,"stop":1743870428452,"duration":7}},{"uid":"68da1455bdc3244","reportUrl":"https://Mutari-App.github.io/mutari-backend/143//#testresult/68da1455bdc3244","status":"passed","time":{"start":1743867489124,"stop":1743867489128,"duration":4}},{"uid":"c2b5d3c9f5e5e979","reportUrl":"https://Mutari-App.github.io/mutari-backend/142//#testresult/c2b5d3c9f5e5e979","status":"passed","time":{"start":1743865472283,"stop":1743865472300,"duration":17}},{"uid":"7a561693329fa0bb","reportUrl":"https://Mutari-App.github.io/mutari-backend/141//#testresult/7a561693329fa0bb","status":"passed","time":{"start":1743855377681,"stop":1743855377684,"duration":3}}]},"tags":[]},"source":"6cc7664a413b8f18.json","parameterValues":[]}