{"uid":"85e314ebe72f2a70","name":"should update an itinerary with new details, tags, sections, and blocks","fullName":"itinerary/itinerary.service.spec.ts#ItineraryService updateItinerary should update an itinerary with new details, tags, sections, and blocks","historyId":"33d24282d725de2b9ca097384e5202ee:d41d8cd98f00b204e9800998ecf8427e","time":{"start":1744053320239,"stop":1744053320261,"duration":22},"status":"failed","statusMessage":"expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n@@ -24,10 +24,11 @@\n            \"sectionNumber\": 1,\n            \"title\": \"Updated Day 1\",\n          },\n        ],\n        \"deleteMany\": Object {\n+         \"contingencyPlanId\": null,\n          \"itineraryId\": \"itinerary-123\",\n        },\n      },\n      \"startDate\": 2025-03-11T00:00:00.000Z,\n      \"tags\": Object {\n@@ -47,11 +48,16 @@\n      \"title\": \"Updated Beach Trip\",\n    },\n    \"include\": Object {\n      \"sections\": Object {\n        \"include\": Object {\n-         \"blocks\": true,\n+         \"blocks\": Object {\n+           \"include\": Object {\n+             \"routeFromPrevious\": true,\n+             \"routeToNext\": true,\n+           },\n+         },\n        },\n      },\n      \"tags\": Object {\n        \"include\": Object {\n          \"tag\": true,,\n\nNumber of calls: 1","statusTrace":"Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n@@ -24,10 +24,11 @@\n            \"sectionNumber\": 1,\n            \"title\": \"Updated Day 1\",\n          },\n        ],\n        \"deleteMany\": Object {\n+         \"contingencyPlanId\": null,\n          \"itineraryId\": \"itinerary-123\",\n        },\n      },\n      \"startDate\": 2025-03-11T00:00:00.000Z,\n      \"tags\": Object {\n@@ -47,11 +48,16 @@\n      \"title\": \"Updated Beach Trip\",\n    },\n    \"include\": Object {\n      \"sections\": Object {\n        \"include\": Object {\n-         \"blocks\": true,\n+         \"blocks\": Object {\n+           \"include\": Object {\n+             \"routeFromPrevious\": true,\n+             \"routeToNext\": true,\n+           },\n+         },\n        },\n      },\n      \"tags\": Object {\n        \"include\": Object {\n          \"tag\": true,,\n\nNumber of calls: 1\n    at Object.<anonymous> (/home/runner/work/mutari-backend/mutari-backend/src/itinerary/itinerary.service.spec.ts:728:50)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"beforeEach","time":{"start":1744053320239,"stop":1744053320243,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"afterStages":[{"name":"afterEach","time":{"start":1744053320261,"stop":1744053320261,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"labels":[{"name":"language","value":"javascript"},{"name":"framework","value":"jest"},{"name":"package","value":"itinerary.itinerary.service.spec.ts"},{"name":"host","value":"fv-az1950-360"},{"name":"thread","value":"1"},{"name":"parentSuite","value":"ItineraryService"},{"name":"suite","value":"updateItinerary"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":2,"broken":1,"skipped":0,"passed":78,"unknown":0,"total":81},"items":[{"uid":"9af6f9ea2ab34aa3","reportUrl":"https://Mutari-App.github.io/mutari-backend/160//#testresult/9af6f9ea2ab34aa3","status":"failed","statusDetails":"expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n@@ -24,10 +24,11 @@\n            \"sectionNumber\": 1,\n            \"title\": \"Updated Day 1\",\n          },\n        ],\n        \"deleteMany\": Object {\n+         \"contingencyPlanId\": null,\n          \"itineraryId\": \"itinerary-123\",\n        },\n      },\n      \"startDate\": 2025-03-11T00:00:00.000Z,\n      \"tags\": Object {\n@@ -47,11 +48,16 @@\n      \"title\": \"Updated Beach Trip\",\n    },\n    \"include\": Object {\n      \"sections\": Object {\n        \"include\": Object {\n-         \"blocks\": true,\n+         \"blocks\": Object {\n+           \"include\": Object {\n+             \"routeFromPrevious\": true,\n+             \"routeToNext\": true,\n+           },\n+         },\n        },\n      },\n      \"tags\": Object {\n        \"include\": Object {\n          \"tag\": true,,\n\nNumber of calls: 1","time":{"start":1744044349451,"stop":1744044349477,"duration":26}},{"uid":"40e6e74279529e31","reportUrl":"https://Mutari-App.github.io/mutari-backend/159//#testresult/40e6e74279529e31","status":"passed","time":{"start":1744040439566,"stop":1744040439571,"duration":5}},{"uid":"ad93318756c8f34e","reportUrl":"https://Mutari-App.github.io/mutari-backend/158//#testresult/ad93318756c8f34e","status":"passed","time":{"start":1744016381078,"stop":1744016381084,"duration":6}},{"uid":"dd0bdf02e306d2db","reportUrl":"https://Mutari-App.github.io/mutari-backend/157//#testresult/dd0bdf02e306d2db","status":"passed","time":{"start":1744002871867,"stop":1744002871877,"duration":10}},{"uid":"f83a8ad10ccfc70c","reportUrl":"https://Mutari-App.github.io/mutari-backend/156//#testresult/f83a8ad10ccfc70c","status":"passed","time":{"start":1743971260696,"stop":1743971260702,"duration":6}},{"uid":"a1864564f46619fd","reportUrl":"https://Mutari-App.github.io/mutari-backend/155//#testresult/a1864564f46619fd","status":"passed","time":{"start":1743969707205,"stop":1743969707217,"duration":12}},{"uid":"87108db560b8a813","reportUrl":"https://Mutari-App.github.io/mutari-backend/154//#testresult/87108db560b8a813","status":"passed","time":{"start":1743961027090,"stop":1743961027096,"duration":6}},{"uid":"a1730f29175d319c","reportUrl":"https://Mutari-App.github.io/mutari-backend/153//#testresult/a1730f29175d319c","status":"passed","time":{"start":1743960779600,"stop":1743960779607,"duration":7}},{"uid":"286bc5dc11be9754","reportUrl":"https://Mutari-App.github.io/mutari-backend/152//#testresult/286bc5dc11be9754","status":"passed","time":{"start":1743959387387,"stop":1743959387392,"duration":5}},{"uid":"6653477ea9e5bb","reportUrl":"https://Mutari-App.github.io/mutari-backend/151//#testresult/6653477ea9e5bb","status":"passed","time":{"start":1743957568272,"stop":1743957568279,"duration":7}},{"uid":"42b312d67e0d4ee","reportUrl":"https://Mutari-App.github.io/mutari-backend/150//#testresult/42b312d67e0d4ee","status":"passed","time":{"start":1743957036441,"stop":1743957036447,"duration":6}},{"uid":"5c9b33451a2c666","reportUrl":"https://Mutari-App.github.io/mutari-backend/149//#testresult/5c9b33451a2c666","status":"passed","time":{"start":1743932466043,"stop":1743932466055,"duration":12}},{"uid":"1eb5cf50196aa71b","reportUrl":"https://Mutari-App.github.io/mutari-backend/148//#testresult/1eb5cf50196aa71b","status":"passed","time":{"start":1743912225153,"stop":1743912225159,"duration":6}},{"uid":"f230588979bbc8e8","reportUrl":"https://Mutari-App.github.io/mutari-backend/147//#testresult/f230588979bbc8e8","status":"passed","time":{"start":1743876316100,"stop":1743876316105,"duration":5}},{"uid":"ae88a54d0c3afb","reportUrl":"https://Mutari-App.github.io/mutari-backend/146//#testresult/ae88a54d0c3afb","status":"passed","time":{"start":1743875041832,"stop":1743875041846,"duration":14}},{"uid":"f3f5212fc4040565","reportUrl":"https://Mutari-App.github.io/mutari-backend/145//#testresult/f3f5212fc4040565","status":"passed","time":{"start":1743871537917,"stop":1743871537922,"duration":5}},{"uid":"75a95613a8687170","reportUrl":"https://Mutari-App.github.io/mutari-backend/144//#testresult/75a95613a8687170","status":"passed","time":{"start":1743870428425,"stop":1743870428438,"duration":13}},{"uid":"29fd19792931e59e","reportUrl":"https://Mutari-App.github.io/mutari-backend/143//#testresult/29fd19792931e59e","status":"passed","time":{"start":1743867489110,"stop":1743867489117,"duration":7}},{"uid":"33da0e4edd082236","reportUrl":"https://Mutari-App.github.io/mutari-backend/142//#testresult/33da0e4edd082236","status":"passed","time":{"start":1743865472269,"stop":1743865472274,"duration":5}},{"uid":"bd98795e497244ad","reportUrl":"https://Mutari-App.github.io/mutari-backend/141//#testresult/bd98795e497244ad","status":"passed","time":{"start":1743855377665,"stop":1743855377670,"duration":5}}]},"tags":[]},"source":"85e314ebe72f2a70.json","parameterValues":[]}