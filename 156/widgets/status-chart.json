[{"uid":"fe8b0cf8d7f2382","name":"should throw an error when page number exceeds total pages","time":{"start":1743971260825,"stop":1743971260828,"duration":3},"status":"passed","severity":"normal"},{"uid":"ff45795f21ed70e3","name":"should remove an itinerary reminder and cancel the cron job","time":{"start":1743971261709,"stop":1743971261712,"duration":3},"status":"passed","severity":"normal"},{"uid":"c090ccd12326ee58","name":"should throw BadRequestException if passwords do not match","time":{"start":1743971261045,"stop":1743971261048,"duration":3},"status":"passed","severity":"normal"},{"uid":"26158db841e541bb","name":"should accept an itinerary invitation and link the user to the itinerary using itineraryId","time":{"start":1743971260968,"stop":1743971260971,"duration":3},"status":"passed","severity":"normal"},{"uid":"fd98294aa69e2670","name":"should throw ForbiddenException if user is not the owner","time":{"start":1743971260989,"stop":1743971260991,"duration":2},"status":"passed","severity":"normal"},{"uid":"b8a11f478654a5ae","name":"should be defined","time":{"start":1743971261678,"stop":1743971261704,"duration":26},"status":"passed","severity":"normal"},{"uid":"1c9e892159d650f0","name":"should handle fetch errors gracefully","time":{"start":1743971261763,"stop":1743971261783,"duration":20},"status":"passed","severity":"normal"},{"uid":"ff748f12b4b74cb8","name":"should reschedule itinerary reminders on server restart","time":{"start":1743971259957,"stop":1743971259973,"duration":16},"status":"passed","severity":"normal"},{"uid":"60c340bcefec8ea3","name":"should throw UnauthorizedException if email is not registered","time":{"start":1743971262615,"stop":1743971262618,"duration":3},"status":"passed","severity":"normal"},{"uid":"1606a26f16d5c30b","name":"should throw NotFoundException if the user to be removed does not exist","time":{"start":1743971261050,"stop":1743971261053,"duration":3},"status":"passed","severity":"normal"},{"uid":"ba4bf84197dd0645","name":"should log an error and return if UMAMI_DISCORD_WEBHOOK_URL is not set","time":{"start":1743971261808,"stop":1743971261812,"duration":4},"status":"passed","severity":"normal"},{"uid":"79a905e7cffccc12","name":"should parse JSON even if AI returns extra text","time":{"start":1743971262457,"stop":1743971262459,"duration":2},"status":"passed","severity":"normal"},{"uid":"1351e96d63490539","name":"should delete expired refresh tokens","time":{"start":1743971261002,"stop":1743971261005,"duration":3},"status":"passed","severity":"normal"},{"uid":"2426d678b33879f5","name":"should return an array of tags","time":{"start":1743971260886,"stop":1743971260889,"duration":3},"status":"passed","severity":"normal"},{"uid":"f858fb330aca7ed","name":"should throw BadRequestException when start date is after end date","time":{"start":1743971260733,"stop":1743971260736,"duration":3},"status":"passed","severity":"normal"},{"uid":"378a22c9ada6303b","name":"should be defined","time":{"start":1743971263229,"stop":1743971263239,"duration":10},"status":"passed","severity":"normal"},{"uid":"dcbd62dc99085213","name":"should throw ForbiddenException if the user is not authorized to accept the invitation","time":{"start":1743971261037,"stop":1743971261040,"duration":3},"status":"passed","severity":"normal"},{"uid":"376797ca60a93b53","name":"should throw ForbiddenException if the user is not authorized to remove participants","time":{"start":1743971261053,"stop":1743971261056,"duration":3},"status":"passed","severity":"normal"},{"uid":"8e092c1f199a782","name":"should throw NotFoundException if the itinerary does not exist","time":{"start":1743971261025,"stop":1743971261028,"duration":3},"status":"passed","severity":"normal"},{"uid":"732a2cef083dc204","name":"should fetch analytics data and send to Discord","time":{"start":1743971261754,"stop":1743971261762,"duration":8},"status":"passed","severity":"normal"},{"uid":"f2b1f89e35e62e88","name":"should update user and send registration email if verification is successful","time":{"start":1743971261196,"stop":1743971261207,"duration":11},"status":"passed","severity":"normal"},{"uid":"2847ae85987024d9","name":"should throw BadRequestException when duplicate section numbers are provided","time":{"start":1743971260681,"stop":1743971260685,"duration":4},"status":"passed","severity":"normal"},{"uid":"6a465078af551ae4","name":"should return an empty array of itinerary reminders if none found","time":{"start":1743971260000,"stop":1743971260003,"duration":3},"status":"passed","severity":"normal"},{"uid":"79d5f036afc59154","name":"should create an itinerary and return a formatted response","time":{"start":1743971260899,"stop":1743971260904,"duration":5},"status":"passed","severity":"normal"},{"uid":"dd8133ca28863005","name":"should return shared itineraries successfully","time":{"start":1743971260952,"stop":1743971260956,"duration":4},"status":"passed","severity":"normal"},{"uid":"a4bc7f1d3675d8ac","name":"should handle overflow page numbers","time":{"start":1743971260782,"stop":1743971260785,"duration":3},"status":"passed","severity":"normal"},{"uid":"118628a1623cb3dd","name":"should return itineraries shared with the user","time":{"start":1743971260828,"stop":1743971260831,"duration":3},"status":"passed","severity":"normal"},{"uid":"932652fd2413078c","name":"should throw an error for invalid page number","time":{"start":1743971260822,"stop":1743971260825,"duration":3},"status":"passed","severity":"normal"},{"uid":"35227cdd869d4f0f","name":"should return 401 Unauthorized if UMAMI_API_KEY is not set","time":{"start":1743971261784,"stop":1743971261789,"duration":5},"status":"passed","severity":"normal"},{"uid":"5b7bd36ba935e433","name":"should remove an itinerary successfully","time":{"start":1743971260876,"stop":1743971260879,"duration":3},"status":"passed","severity":"normal"},{"uid":"a6124d57324f4980","name":"should be defined","time":{"start":1743971263652,"stop":1743971263664,"duration":12},"status":"passed","severity":"normal"},{"uid":"f527817d886288b4","name":"should throw NotFound if user email is not found to accept the invitation","time":{"start":1743971260979,"stop":1743971260982,"duration":3},"status":"passed","severity":"normal"},{"uid":"2fc592a124589e83","name":"should be defined","time":{"start":1743971263813,"stop":1743971263818,"duration":5},"status":"passed","severity":"normal"},{"uid":"47b9cec514f7676a","name":"should return paginated itineraries for both owned and shared when sharedBool is false","time":{"start":1743971260802,"stop":1743971260806,"duration":4},"status":"passed","severity":"normal"},{"uid":"a072f4d3b560b93a","name":"should return list of cities","time":{"start":1743971263295,"stop":1743971263298,"duration":3},"status":"passed","severity":"normal"},{"uid":"917afd3160696f14","name":"should return validation error if page is negative","time":{"start":1743971263440,"stop":1743971263448,"duration":8},"status":"passed","severity":"normal"},{"uid":"1de755cc6656f97f","name":"should throw InternalServerErrorException on AI error","time":{"start":1743971262460,"stop":1743971262464,"duration":4},"status":"passed","severity":"normal"},{"uid":"daba90f66fe91613","name":"should throw NotFoundException if itineraryId is not found when accepting an invitation","time":{"start":1743971260977,"stop":1743971260979,"duration":2},"status":"passed","severity":"normal"},{"uid":"4ea73a8b4b57706f","name":"should create an itinerary reminder","time":{"start":1743971259974,"stop":1743971259979,"duration":5},"status":"passed","severity":"normal"},{"uid":"21294104a66be657","name":"should throw UnauthorizedException if refresh token is invalid","time":{"start":1743971262626,"stop":1743971262629,"duration":3},"status":"passed","severity":"normal"},{"uid":"2cc5827c85da3f1a","name":"should return \"Hello World!\"","time":{"start":1743971263515,"stop":1743971263525,"duration":10},"status":"passed","severity":"normal"},{"uid":"75adb08f08ba9e20","name":"should throw ForbiddenException if user does not own the itinerary","time":{"start":1743971260726,"stop":1743971260730,"duration":4},"status":"passed","severity":"normal"},{"uid":"260c1f1ae71af7c4","name":"should return an itinerary reminder with associated itinerary id","time":{"start":1743971260003,"stop":1743971260005,"duration":2},"status":"passed","severity":"normal"},{"uid":"859274a21bbf0adb","name":"should create an itinerary without tags","time":{"start":1743971260911,"stop":1743971260920,"duration":9},"status":"passed","severity":"normal"},{"uid":"866e502da8dea8af","name":"should return all tags","time":{"start":1743971261015,"stop":1743971261017,"duration":2},"status":"passed","severity":"normal"},{"uid":"c0aabd39cbfb0f2a","name":"should invite a user to an itinerary and return a formatted response","time":{"start":1743971261022,"stop":1743971261024,"duration":2},"status":"passed","severity":"normal"},{"uid":"31120e3ff0d6ac69","name":"should allow user to see itinerary if invited","time":{"start":1743971260766,"stop":1743971260769,"duration":3},"status":"passed","severity":"normal"},{"uid":"95dda14963139c08","name":"should throw NotFoundException if itinerary does not exist","time":{"start":1743971260879,"stop":1743971260882,"duration":3},"status":"passed","severity":"normal"},{"uid":"c9a6fb66da0d3c2d","name":"should remove a user from the itinerary successfully","time":{"start":1743971260982,"stop":1743971260984,"duration":2},"status":"passed","severity":"normal"},{"uid":"ff870a18c3c104f1","name":"should throw ForbiddenException if user is not the owner of the itinerary","time":{"start":1743971260965,"stop":1743971260968,"duration":3},"status":"passed","severity":"normal"},{"uid":"c0542b74260698a3","name":"should throw UnauthorizedException if firstNames do not match","time":{"start":1743971261042,"stop":1743971261045,"duration":3},"status":"passed","severity":"normal"},{"uid":"9022fe1f2d02b997","name":"should be defined","time":{"start":1743971262696,"stop":1743971262707,"duration":11},"status":"passed","severity":"normal"},{"uid":"f73d1d8c9dae19e0","name":"should throw ForbiddenException if user is not authorized","time":{"start":1743971260894,"stop":1743971260899,"duration":5},"status":"passed","severity":"normal"},{"uid":"57433d7512eaece9","name":"should throw NotFoundException if the pending invitation does not exist","time":{"start":1743971260974,"stop":1743971260976,"duration":2},"status":"passed","severity":"normal"},{"uid":"bdb99be13ffdb633","name":"should return itinerary when found and user has access to it","time":{"start":1743971260763,"stop":1743971260765,"duration":2},"status":"passed","severity":"normal"},{"uid":"bad8528a8dce6b9e","name":"should create a new ticket for the user","time":{"start":1743971262299,"stop":1743971262302,"duration":3},"status":"passed","severity":"normal"},{"uid":"6a270e12e8fed8e9","name":"should be defined","time":{"start":1743971260780,"stop":1743971260869,"duration":89},"status":"passed","severity":"normal"},{"uid":"eebda7abbcafb306","name":"should handle service errors correctly","time":{"start":1743971260948,"stop":1743971260951,"duration":3},"status":"passed","severity":"normal"},{"uid":"d3752ca32e8fa21d","name":"should throw NotFoundException if itinerary does not exist","time":{"start":1743971260997,"stop":1743971261000,"duration":3},"status":"passed","severity":"normal"},{"uid":"2fb3d1a0206909c7","name":"should throw UnauthorizedException if user not found","time":{"start":1743971263070,"stop":1743971263074,"duration":4},"status":"passed","severity":"normal"},{"uid":"f483107dee7a9e11","name":"should create an itinerary reminder and schedule the cron job","time":{"start":1743971261704,"stop":1743971261706,"duration":2},"status":"passed","severity":"normal"},{"uid":"2babb559de559342","name":"should allow page to be optional","time":{"start":1743971263448,"stop":1743971263449,"duration":1},"status":"passed","severity":"normal"},{"uid":"e4f634bf7ac74085","name":"should throw NotFoundException if the invitation does not exist","time":{"start":1743971261034,"stop":1743971261037,"duration":3},"status":"passed","severity":"normal"},{"uid":"d1c5b814e8e55717","name":"should call service.getReferralCode with the correct userId","time":{"start":1743971263061,"stop":1743971263063,"duration":2},"status":"passed","severity":"normal"},{"uid":"afce95fdcc25ac9c","name":"should throw UnauthorizedException if user not found","time":{"start":1743971262164,"stop":1743971262167,"duration":3},"status":"passed","severity":"normal"},{"uid":"35436a9c9b2da99a","name":"should throw BadRequestException if user is not found","time":{"start":1743971262293,"stop":1743971262298,"duration":5},"status":"passed","severity":"normal"},{"uid":"46cf8038c17326d7","name":"should return the correct start and end timestamps for the previous month","time":{"start":1743971261793,"stop":1743971261795,"duration":2},"status":"passed","severity":"normal"},{"uid":"379759f9d8e2e263","name":"should update an itinerary reminder","time":{"start":1743971260010,"stop":1743971260017,"duration":7},"status":"passed","severity":"normal"},{"uid":"1a23af36d5b4558d","name":"should throw UnauthorizedException if password is invalid","time":{"start":1743971260981,"stop":1743971260985,"duration":4},"status":"passed","severity":"normal"},{"uid":"19b0bd16fe6a508c","name":"should throw UnauthorizedException if emails do not match","time":{"start":1743971261039,"stop":1743971261042,"duration":3},"status":"passed","severity":"normal"},{"uid":"81a992049093cc6d","name":"should call authService.register with correct data","time":{"start":1743971262639,"stop":1743971262641,"duration":2},"status":"passed","severity":"normal"},{"uid":"cc3c9d107ce90c6a","name":"should return paginated itineraries","time":{"start":1743971260775,"stop":1743971260779,"duration":4},"status":"passed","severity":"normal"},{"uid":"ad60b7491ed608b4","name":"should throw a NotFoundException if job doesnt exist","time":{"start":1743971260064,"stop":1743971260067,"duration":3},"status":"passed","severity":"normal"},{"uid":"966fd4580e2b39a4","name":"should throw BadRequestException when start date is after end date","time":{"start":1743971260667,"stop":1743971260672,"duration":5},"status":"passed","severity":"normal"},{"uid":"ef8799a88de5a267","name":"should allow access if the route is public","time":{"start":1743971262148,"stop":1743971262151,"duration":3},"status":"passed","severity":"normal"},{"uid":"2b575b9bdfd46034","name":"should return empty data when user has no shared itineraries","time":{"start":1743971260832,"stop":1743971260837,"duration":5},"status":"passed","severity":"normal"},{"uid":"6e50906505178dca","name":"should throw UnauthorizedException if refresh token is blacklisted","time":{"start":1743971260992,"stop":1743971260996,"duration":4},"status":"passed","severity":"normal"},{"uid":"d2853426d7ce2937","name":"should throw NotFoundException if itinerary does not exist","time":{"start":1743971260870,"stop":1743971260873,"duration":3},"status":"passed","severity":"normal"},{"uid":"4b9574244944e8e5","name":"should throw NotFoundException if the itinerary does not exist","time":{"start":1743971260985,"stop":1743971260987,"duration":2},"status":"passed","severity":"normal"},{"uid":"a3cf3567a2e75a52","name":"should throw BadRequestException if last ticket is still valid","time":{"start":1743971262302,"stop":1743971262305,"duration":3},"status":"passed","severity":"normal"},{"uid":"ba2e9325e9245f1f","name":"should return all itineraries with default parameters","time":{"start":1743971260939,"stop":1743971260942,"duration":3},"status":"passed","severity":"normal"},{"uid":"53a3066936b5ab9a","name":"should filter itineraries with shared=true and finished=true","time":{"start":1743971260942,"stop":1743971260945,"duration":3},"status":"passed","severity":"normal"},{"uid":"868b1ddf2398f6ef","name":"should update an itinerary reminder and reschdule the cron job","time":{"start":1743971261707,"stop":1743971261709,"duration":2},"status":"passed","severity":"normal"},{"uid":"c8622ed988839f54","name":"should throw UnauthorizedException if ticket is expired","time":{"start":1743971262285,"stop":1743971262289,"duration":4},"status":"passed","severity":"normal"},{"uid":"8053a06d52100d32","name":"should be defined","time":{"start":1743971263911,"stop":1743971263916,"duration":5},"status":"passed","severity":"normal"},{"uid":"33d49ade3dbef5bf","name":"should throw NotFoundException if itinerary does not exist","time":{"start":1743971260962,"stop":1743971260964,"duration":2},"status":"passed","severity":"normal"},{"uid":"e7e77395b8f1d1f2","name":"should throw an error for invalid page number","time":{"start":1743971260978,"stop":1743971260980,"duration":2},"status":"passed","severity":"normal"},{"uid":"b9655ba30e942146","name":"should be defined","time":{"start":1743971263746,"stop":1743971263752,"duration":6},"status":"passed","severity":"normal"},{"uid":"3ca8c76c383fe1b1","name":"should return empty itinerary array if no completed itineraries found","time":{"start":1743971260999,"stop":1743971261001,"duration":2},"status":"passed","severity":"normal"},{"uid":"ab46cc3ee6ed5a6b","name":"should throw NotFoundException when tags do not exist","time":{"start":1743971260685,"stop":1743971260695,"duration":10},"status":"passed","severity":"normal"},{"uid":"f7afe6d570779a5e","name":"should throw ForbiddenException if user is not the owner","time":{"start":1743971260873,"stop":1743971260876,"duration":3},"status":"passed","severity":"normal"},{"uid":"63364b7f01478b39","name":"should throw BadRequestException on improper reminder option","time":{"start":1743971260058,"stop":1743971260061,"duration":3},"status":"passed","severity":"normal"},{"uid":"b2a8d3d3d0b2e639","name":"should throw ForbiddenException if user is not authorized","time":{"start":1743971260772,"stop":1743971260775,"duration":3},"status":"passed","severity":"normal"},{"uid":"27f6ef55edf45886","name":"should throw BadRequestException if user was created recently and is not confirmed","time":{"start":1743971261015,"stop":1743971261018,"duration":3},"status":"passed","severity":"normal"},{"uid":"cf71084e1612b6f3","name":"should return access and refresh tokens on successful login","time":{"start":1743971262576,"stop":1743971262613,"duration":37},"status":"passed","severity":"normal"},{"uid":"5d13cc28c1a1a22f","name":"should be defined","time":{"start":1743971261725,"stop":1743971261753,"duration":28},"status":"passed","severity":"normal"},{"uid":"ccb1a482c3ae7aac","name":"should pass errors from service to the caller","time":{"start":1743971261715,"stop":1743971261721,"duration":6},"status":"passed","severity":"normal"},{"uid":"235e6a6bdfe6b3a1","name":"should return the pre-register count","time":{"start":1743971263052,"stop":1743971263055,"duration":3},"status":"passed","severity":"normal"},{"uid":"1f099ad224b9391b","name":"should schedule a sendEmail job and verify it runs","time":{"start":1743971260044,"stop":1743971260047,"duration":3},"status":"passed","severity":"normal"},{"uid":"1f11437356b5569f","name":"should call authService.verify with correct data","time":{"start":1743971262636,"stop":1743971262638,"duration":2},"status":"passed","severity":"normal"},{"uid":"7298db4b5a94e288","name":"should throw NotFoundException when tags do not exist","time":{"start":1743971260746,"stop":1743971260749,"duration":3},"status":"passed","severity":"normal"},{"uid":"4118fb24f1315be","name":"should send analytics data to Discord","time":{"start":1743971261799,"stop":1743971261801,"duration":2},"status":"passed","severity":"normal"},{"uid":"9f58fa236cbf0297","name":"should be defined","time":{"start":1743971262196,"stop":1743971262224,"duration":28},"status":"passed","severity":"normal"},{"uid":"fd6cc8947bdbca7f","name":"should return an empty array if no tags are found","time":{"start":1743971261018,"stop":1743971261021,"duration":3},"status":"passed","severity":"normal"},{"uid":"d42dc4a46f0579ea","name":"should throw ForbiddenException if the user is not authorized to invite","time":{"start":1743971261028,"stop":1743971261031,"duration":3},"status":"passed","severity":"normal"},{"uid":"8e74cc37f95ce38b","name":"should call service.createPreRegister with correct data","time":{"start":1743971263049,"stop":1743971263052,"duration":3},"status":"passed","severity":"normal"},{"uid":"9765c455b4e10f8b","name":"should return empty data when there are no shared itineraries","time":{"start":1743971260957,"stop":1743971260959,"duration":2},"status":"passed","severity":"normal"},{"uid":"ecf5af2963be6666","name":"should return country code","time":{"start":1743971263293,"stop":1743971263295,"duration":2},"status":"passed","severity":"normal"},{"uid":"4d5b3508ce463315","name":"should not send webhook if DISCORD_WEBHOOK_URL is not set","time":{"start":1743971262309,"stop":1743971262317,"duration":8},"status":"passed","severity":"normal"},{"uid":"d7ee62aaa3c01b0e","name":"should throw NotFoundException if referral code is not found","time":{"start":1743971262254,"stop":1743971262258,"duration":4},"status":"passed","severity":"normal"},{"uid":"963c50bf40a65e1d","name":"should throw NotFoundException when itinerary does not exist","time":{"start":1743971260749,"stop":1743971260752,"duration":3},"status":"passed","severity":"normal"},{"uid":"975924dbe05284b0","name":"should throw UnauthorizedException if password is incorrect","time":{"start":1743971262619,"stop":1743971262622,"duration":3},"status":"passed","severity":"normal"},{"uid":"1876739d5794c43c","name":"should throw NotFoundException if user is not found","time":{"start":1743971261051,"stop":1743971261196,"duration":145},"status":"passed","severity":"normal"},{"uid":"9b4d4978a09347e6","name":"should accept an itinerary invitation","time":{"start":1743971261031,"stop":1743971261034,"duration":3},"status":"passed","severity":"normal"},{"uid":"20352712ae6c615b","name":"should handle optional fields in the DTO correctly","time":{"start":1743971260921,"stop":1743971260924,"duration":3},"status":"passed","severity":"normal"},{"uid":"52bb0561b951facd","name":"should return only completed itineraries when finishedBool is true","time":{"start":1743971260816,"stop":1743971260822,"duration":6},"status":"passed","severity":"normal"},{"uid":"9860b298db8713aa","name":"should throw a BadRequestException on jobs with date in past","time":{"start":1743971260052,"stop":1743971260054,"duration":2},"status":"passed","severity":"normal"},{"uid":"139f8ff93427a843","name":"should call service.login with the correct email","time":{"start":1743971263055,"stop":1743971263057,"duration":2},"status":"passed","severity":"normal"},{"uid":"6e3146ac435951ac","name":"should throw BadRequestException if user does not exist","time":{"start":1743971261022,"stop":1743971261025,"duration":3},"status":"passed","severity":"normal"},{"uid":"2f8aee5f47459608","name":"should mark itinerary as complete","time":{"start":1743971260867,"stop":1743971260870,"duration":3},"status":"passed","severity":"normal"},{"uid":"39a85a230d3033fc","name":"should return the itinerary if user is the owner","time":{"start":1743971260756,"stop":1743971260761,"duration":5},"status":"passed","severity":"normal"},{"uid":"175b5cf2c3dea62a","name":"should allow access if token is valid","time":{"start":1743971262167,"stop":1743971262173,"duration":6},"status":"passed","severity":"normal"},{"uid":"671ad61c20f2ac3a","name":"should throw NotFoundException if itinerary doesnt exist","time":{"start":1743971260017,"stop":1743971260022,"duration":5},"status":"passed","severity":"normal"},{"uid":"5c5328af701993df","name":"should throw BadRequestException if requesting too fast","time":{"start":1743971261026,"stop":1743971261029,"duration":3},"status":"passed","severity":"normal"},{"uid":"7c4972562181d307","name":"should return country details based on placeId","time":{"start":1743971262725,"stop":1743971262734,"duration":9},"status":"passed","severity":"normal"},{"uid":"fca76bd176d7310a","name":"should be defined","time":{"start":1743971263050,"stop":1743971263062,"duration":12},"status":"passed","severity":"normal"},{"uid":"dc2889a67ab21d17","name":"should return access and refresh tokens if login is successful","time":{"start":1743971260985,"stop":1743971260992,"duration":7},"status":"passed","severity":"normal"},{"uid":"15e93a284f00c9ea","name":"should call authService.createUser and authService.sendVerification with correct data","time":{"start":1743971262629,"stop":1743971262635,"duration":6},"status":"passed","severity":"normal"},{"uid":"9e0f76c0f9b33fbe","name":"should throw NotFoundException if itinerary doesnt exist","time":{"start":1743971259979,"stop":1743971259990,"duration":11},"status":"passed","severity":"normal"},{"uid":"aa85eaeded367b2","name":"should throw ForbiddenException when user is not the owner","time":{"start":1743971260752,"stop":1743971260756,"duration":4},"status":"passed","severity":"normal"},{"uid":"d46478aa96f4d1c8","name":"should return an itinerary when found","time":{"start":1743971260872,"stop":1743971260879,"duration":7},"status":"passed","severity":"normal"},{"uid":"46ae60c9326f6f0a","name":"should throw UnauthorizedException if user is not found","time":{"start":1743971260950,"stop":1743971260981,"duration":31},"status":"passed","severity":"normal"},{"uid":"a7565845d70b620d","name":"should throw ForbiddenException when user is not the owner of the itinerary","time":{"start":1743971260883,"stop":1743971260886,"duration":3},"status":"passed","severity":"normal"},{"uid":"5f3dccd0d7b98c83","name":"should handle errors if sending email fails","time":{"start":1743971263426,"stop":1743971263429,"duration":3},"status":"passed","severity":"normal"},{"uid":"9fdc8fa43aa86948","name":"should be defined","time":{"start":1743971263278,"stop":1743971263289,"duration":11},"status":"passed","severity":"normal"},{"uid":"c7cb96a5df91795a","name":"should throw NotFoundException if itinerary is not found","time":{"start":1743971260879,"stop":1743971260894,"duration":15},"status":"passed","severity":"normal"},{"uid":"c8806b141a37a414","name":"should update an itinerary and return a formatted response","time":{"start":1743971261002,"stop":1743971261005,"duration":3},"status":"passed","severity":"normal"},{"uid":"78e4f2ce6b1dd527","name":"should return the authenticated user","time":{"start":1743971262645,"stop":1743971262650,"duration":5},"status":"passed","severity":"normal"},{"uid":"5b9c5231f3fa7902","name":"should send an email successfully","time":{"start":1743971263423,"stop":1743971263426,"duration":3},"status":"passed","severity":"normal"},{"uid":"a50dac6dcf4f15e3","name":"should return list of cities based on country","time":{"start":1743971262713,"stop":1743971262725,"duration":12},"status":"passed","severity":"normal"},{"uid":"2b11a171bbd64da4","name":"should return empty data when there are no itineraries","time":{"start":1743971260981,"stop":1743971260983,"duration":2},"status":"passed","severity":"normal"},{"uid":"10a1505e2d112cd9","name":"should throw NotFoundException if itinerary doesnt exist","time":{"start":1743971260029,"stop":1743971260043,"duration":14},"status":"passed","severity":"normal"},{"uid":"c4c597b9f4a52871","name":"should return place details when placeId is valid","time":{"start":1743971262955,"stop":1743971262969,"duration":14},"status":"passed","severity":"normal"},{"uid":"cb93c8f9a5f74132","name":"should throw an error if itineraryData.sections is empty","time":{"start":1743971263240,"stop":1743971263244,"duration":4},"status":"passed","severity":"normal"},{"uid":"a59b40b0f89be27d","name":"should throw NotFoundException if itinerary does not exist","time":{"start":1743971260721,"stop":1743971260726,"duration":5},"status":"passed","severity":"normal"},{"uid":"cfa4c86b6cdc2570","name":"should return an empty array when there are no completed itineraries","time":{"start":1743971260864,"stop":1743971260867,"duration":3},"status":"passed","severity":"normal"},{"uid":"b030180bcff6e962","name":"should throw NotFoundException if itinerary does not exist","time":{"start":1743971260769,"stop":1743971260772,"duration":3},"status":"passed","severity":"normal"},{"uid":"26f74e5fccb70e65","name":"should return new access and refresh tokens","time":{"start":1743971262622,"stop":1743971262626,"duration":4},"status":"passed","severity":"normal"},{"uid":"41219e2e76ccf398","name":"should remove a user from an itinerary and return a formatted response","time":{"start":1743971261041,"stop":1743971261043,"duration":2},"status":"passed","severity":"normal"},{"uid":"7b1157a01d9f1615","name":"should return new access and refresh tokens if refresh token is valid","time":{"start":1743971260996,"stop":1743971261001,"duration":5},"status":"passed","severity":"normal"},{"uid":"1c10ea428846ebc4","name":"should return itineraries successfully","time":{"start":1743971260975,"stop":1743971260977,"duration":2},"status":"passed","severity":"normal"},{"uid":"1a689da738c912f0","name":"should send webhook for pre-registration","time":{"start":1743971262318,"stop":1743971262330,"duration":12},"status":"passed","severity":"normal"},{"uid":"1aa06c53a9cc7232","name":"should throw BadRequestException when duplicate section numbers are provided","time":{"start":1743971260743,"stop":1743971260746,"duration":3},"status":"passed","severity":"normal"},{"uid":"e274f6218ec80fa2","name":"should throw UnauthorizedException if token is invalid","time":{"start":1743971262156,"stop":1743971262160,"duration":4},"status":"passed","severity":"normal"},{"uid":"4d0b05a1e91ce15e","name":"should throw BadRequestException when block start time is after end time","time":{"start":1743971260737,"stop":1743971260739,"duration":2},"status":"passed","severity":"normal"},{"uid":"82b952e40627181d","name":"should return list of countries","time":{"start":1743971262707,"stop":1743971262713,"duration":6},"status":"passed","severity":"normal"},{"uid":"b91900f497238721","name":"should calculate scheduled date correctly","time":{"start":1743971260055,"stop":1743971260057,"duration":2},"status":"passed","severity":"normal"},{"uid":"787604118b00a395","name":"should handle service errors properly","time":{"start":1743971262972,"stop":1743971262973,"duration":1},"status":"passed","severity":"normal"},{"uid":"142f7f9130348a20","name":"should send verification email if user exists","time":{"start":1743971261033,"stop":1743971261036,"duration":3},"status":"passed","severity":"normal"},{"uid":"b14a9901e336e763","name":"should handle errors if fetch fails","time":{"start":1743971262337,"stop":1743971262340,"duration":3},"status":"passed","severity":"normal"},{"uid":"e478e4b045a30e89","name":"should return place details when API call is successful","time":{"start":1743971263346,"stop":1743971263348,"duration":2},"status":"passed","severity":"normal"},{"uid":"f83a8ad10ccfc70c","name":"should update an itinerary with new details, tags, sections, and blocks","time":{"start":1743971260696,"stop":1743971260702,"duration":6},"status":"passed","severity":"normal"},{"uid":"41ed7872c29fffc8","name":"should fetch an itinerary reminder and return OK when found","time":{"start":1743971261712,"stop":1743971261714,"duration":2},"status":"passed","severity":"normal"},{"uid":"894999d39a718063","name":"should call geminiService.generateFeedback with valid dto","time":{"start":1743971263244,"stop":1743971263247,"duration":3},"status":"passed","severity":"normal"},{"uid":"c53cfc4904135d35","name":"should be defined","time":{"start":1743971259885,"stop":1743971259952,"duration":67},"status":"passed","severity":"normal"},{"uid":"9b5a0e61396e310e","name":"should return country code response","time":{"start":1743971262734,"stop":1743971262744,"duration":10},"status":"passed","severity":"normal"},{"uid":"82cfc8d5f49c29d0","name":"should throw an error if placeId is not provided","time":{"start":1743971263332,"stop":1743971263344,"duration":12},"status":"passed","severity":"normal"},{"uid":"70b11d257edbeccd","name":"should correctly count LOCATION blocks","time":{"start":1743971260859,"stop":1743971260863,"duration":4},"status":"passed","severity":"normal"},{"uid":"6acfefa24ff22595","name":"should validate user if refresh token is valid","time":{"start":1743971263066,"stop":1743971263070,"duration":4},"status":"passed","severity":"normal"},{"uid":"8c79214d744bd92","name":"should handle negative page numbers","time":{"start":1743971260779,"stop":1743971260782,"duration":3},"status":"passed","severity":"normal"},{"uid":"833cc3804ab220aa","name":"should delete the oldest ticket if there are too many","time":{"start":1743971261029,"stop":1743971261032,"duration":3},"status":"passed","severity":"normal"},{"uid":"8a5eb787b0b7f071","name":"should throw UnauthorizedException if token is not provided","time":{"start":1743971262151,"stop":1743971262156,"duration":5},"status":"passed","severity":"normal"},{"uid":"fe87cdaf55ad2799","name":"should call remove() in the service and delete an itinerary","time":{"start":1743971261008,"stop":1743971261011,"duration":3},"status":"passed","severity":"normal"},{"uid":"9a69430450820165","name":"should send login email if user exists","time":{"start":1743971262268,"stop":1743971262272,"duration":4},"status":"passed","severity":"normal"},{"uid":"e4786ae00daaca04","name":"should return total pre-registered users count","time":{"start":1743971262259,"stop":1743971262268,"duration":9},"status":"passed","severity":"normal"},{"uid":"b7aca730941898d","name":"should throw BadRequestException if email is already registered","time":{"start":1743971262240,"stop":1743971262253,"duration":13},"status":"passed","severity":"normal"},{"uid":"5dc54424ecd2086b","name":"should filter itineraries with shared=false and finished=false","time":{"start":1743971260945,"stop":1743971260947,"duration":2},"status":"passed","severity":"normal"},{"uid":"d95bda5047d71357","name":"should be defined","time":{"start":1743971262121,"stop":1743971262147,"duration":26},"status":"passed","severity":"normal"},{"uid":"6424c66d68f60e56","name":"should validate login ticket and return access token","time":{"start":1743971262276,"stop":1743971262280,"duration":4},"status":"passed","severity":"normal"},{"uid":"9069d68bd6b7796b","name":"should throw BadRequestException if email is not registered","time":{"start":1743971262272,"stop":1743971262275,"duration":3},"status":"passed","severity":"normal"},{"uid":"91f36bab61c14c26","name":"should delete the oldest ticket if more than 5 exist","time":{"start":1743971262306,"stop":1743971262309,"duration":3},"status":"passed","severity":"normal"},{"uid":"5b530f2ff962116c","name":"should handle service errors for shared itineraries","time":{"start":1743971260959,"stop":1743971260962,"duration":3},"status":"passed","severity":"normal"},{"uid":"84823728520c8b01","name":"should throw ForbiddenException if user does not own the itinerary","time":{"start":1743971261000,"stop":1743971261003,"duration":3},"status":"passed","severity":"normal"},{"uid":"d2c793584dda65c2","name":"should throw BadRequestException when date format is invalid","time":{"start":1743971260645,"stop":1743971260667,"duration":22},"status":"passed","severity":"normal"},{"uid":"82df47d6fd65a096","name":"should return an empty array if there are no tags","time":{"start":1743971260889,"stop":1743971260891,"duration":2},"status":"passed","severity":"normal"},{"uid":"c1c49cce13cff1a7","name":"should be defined","time":{"start":1743971263812,"stop":1743971263822,"duration":10},"status":"passed","severity":"normal"},{"uid":"daac4722bb59baab","name":"should mark itinerary as complete","time":{"start":1743971260983,"stop":1743971260986,"duration":3},"status":"passed","severity":"normal"},{"uid":"4447daa37043f990","name":"should return user referral code and count","time":{"start":1743971262289,"stop":1743971262292,"duration":3},"status":"passed","severity":"normal"},{"uid":"b61a5b75a55a0633","name":"should throw UnauthorizedException for invalid ticket","time":{"start":1743971262281,"stop":1743971262284,"duration":3},"status":"passed","severity":"normal"},{"uid":"52187cf0c6a53a97","name":"should handle Discord webhook errors gracefully","time":{"start":1743971261801,"stop":1743971261807,"duration":6},"status":"passed","severity":"normal"},{"uid":"f4ad8094b82d3b80","name":"should throw an error if itinerary is not found","time":{"start":1743971261012,"stop":1743971261014,"duration":2},"status":"passed","severity":"normal"},{"uid":"a6f3bf46a347b86d","name":"should throw NotFoundException if itinerary reminder does not exist","time":{"start":1743971260023,"stop":1743971260026,"duration":3},"status":"passed","severity":"normal"},{"uid":"58d3df283e7e879e","name":"should return parsed feedback array from AI response","time":{"start":1743971262453,"stop":1743971262456,"duration":3},"status":"passed","severity":"normal"},{"uid":"d84411844e308783","name":"should create a contingency plan with sections and blocks","time":{"start":1743971260994,"stop":1743971260997,"duration":3},"status":"passed","severity":"normal"},{"uid":"d5987c65a9a83693","name":"should send invitations to the provided emails","time":{"start":1743971260892,"stop":1743971260961,"duration":69},"status":"passed","severity":"normal"},{"uid":"421791993c057304","name":"should throw a ConflictException on already scheduled reminders","time":{"start":1743971260047,"stop":1743971260051,"duration":4},"status":"passed","severity":"normal"},{"uid":"9d6701631611f383","name":"should throw ForbiddenException if the user is not the owner of the itinerary","time":{"start":1743971260988,"stop":1743971260990,"duration":2},"status":"passed","severity":"normal"},{"uid":"b59ecd139ea2c58b","name":"should update an itinerary with defaults for deleted/missing fields","time":{"start":1743971260703,"stop":1743971260711,"duration":8},"status":"passed","severity":"normal"},{"uid":"1b6964e1e93129ee","name":"should be defined","time":{"start":1743971263033,"stop":1743971263049,"duration":16},"status":"passed","severity":"normal"},{"uid":"4632ccdc99ba73dc","name":"should throw UnauthorizedException if token has expired","time":{"start":1743971262175,"stop":1743971262186,"duration":11},"status":"passed","severity":"normal"},{"uid":"5570c875a8ffcad3","name":"should pass errors from service to the caller","time":{"start":1743971261005,"stop":1743971261008,"duration":3},"status":"passed","severity":"normal"},{"uid":"170b6ea3af486699","name":"should send webhook for login-validation","time":{"start":1743971262331,"stop":1743971262337,"duration":6},"status":"passed","severity":"normal"},{"uid":"bda3fd973fc75237","name":"should pass errors from service to the caller","time":{"start":1743971260905,"stop":1743971260910,"duration":5},"status":"passed","severity":"normal"},{"uid":"b4f89370a6373c98","name":"should throw ConflictException if itinerary reminder already exist","time":{"start":1743971259990,"stop":1743971259995,"duration":5},"status":"passed","severity":"normal"},{"uid":"d51f81cfd271c6e0","name":"should create a new user and send confirmation email","time":{"start":1743971262225,"stop":1743971262237,"duration":12},"status":"passed","severity":"normal"},{"uid":"c7cb45dba906ad41","name":"should return list of countries","time":{"start":1743971263289,"stop":1743971263292,"duration":3},"status":"passed","severity":"normal"},{"uid":"b2143d876a95272e","name":"should remove an itinerary reminder","time":{"start":1743971260026,"stop":1743971260029,"duration":3},"status":"passed","severity":"normal"},{"uid":"2020eda52434354f","name":"should throw NotFoundException if associated itinerary's reminder does not exist","time":{"start":1743971260006,"stop":1743971260009,"duration":3},"status":"passed","severity":"normal"},{"uid":"d7b44acbdb5c6d8e","name":"should create an itinerary with default section title, empty blocks, and empty tags","time":{"start":1743971260638,"stop":1743971260645,"duration":7},"status":"passed","severity":"normal"},{"uid":"a957bcb7d8479744","name":"should cancel an existing scheduled email job","time":{"start":1743971260061,"stop":1743971260064,"duration":3},"status":"passed","severity":"normal"},{"uid":"1e068c04d282c477","name":"should be defined","time":{"start":1743971263413,"stop":1743971263423,"duration":10},"status":"passed","severity":"normal"},{"uid":"804d0995cae777ed","name":"should throw an error if placeId is not provided","time":{"start":1743971262970,"stop":1743971262972,"duration":2},"status":"passed","severity":"normal"},{"uid":"cb4188db7cacc186","name":"should throw BadRequestException when no sections are provided","time":{"start":1743971260673,"stop":1743971260680,"duration":7},"status":"passed","severity":"normal"},{"uid":"a9c8bc9072ccf923","name":"should throw BadRequestException when no sections are provided","time":{"start":1743971260740,"stop":1743971260743,"duration":3},"status":"passed","severity":"normal"},{"uid":"a091edd4bd762c38","name":"should return empty list if user has no itineraries","time":{"start":1743971260785,"stop":1743971260802,"duration":17},"status":"passed","severity":"normal"},{"uid":"19ed32c4c4bd35ab","name":"should throw NotFoundException if itinerary does not exist","time":{"start":1743971260986,"stop":1743971260988,"duration":2},"status":"passed","severity":"normal"},{"uid":"d4e0f753e5fef16a","name":"should transform page to a number","time":{"start":1743971263432,"stop":1743971263440,"duration":8},"status":"passed","severity":"normal"},{"uid":"2ef7555ece3f88a3","name":"should throw an error for invalid page number","time":{"start":1743971260837,"stop":1743971260846,"duration":9},"status":"passed","severity":"normal"},{"uid":"1f58d9eb8eea1f62","name":"should be defined","time":{"start":1743971260502,"stop":1743971260625,"duration":123},"status":"passed","severity":"normal"},{"uid":"1858f0901fcd0dcb","name":"should be defined","time":{"start":1743971263880,"stop":1743971263885,"duration":5},"status":"passed","severity":"normal"},{"uid":"ef595e8a5fabf51e","name":"should return completed itineraries with response formatting","time":{"start":1743971260992,"stop":1743971260999,"duration":7},"status":"passed","severity":"normal"},{"uid":"d18b77a2c2058acb","name":"should return only shared itineraries when sharedBool is true","time":{"start":1743971260807,"stop":1743971260816,"duration":9},"status":"passed","severity":"normal"},{"uid":"75ea1f3d7843f142","name":"should return itineraryId if user already has access to the itinerary","time":{"start":1743971260971,"stop":1743971260974,"duration":3},"status":"passed","severity":"normal"},{"uid":"77e91c276c32b3a6","name":"should return completed itineraries with locationCount","time":{"start":1743971260852,"stop":1743971260858,"duration":6},"status":"passed","severity":"normal"},{"uid":"c2629785cbd01296","name":"should return an array of itinerary reminders","time":{"start":1743971259996,"stop":1743971259999,"duration":3},"status":"passed","severity":"normal"},{"uid":"628296fc757b7495","name":"should clear refreshToken cookie","time":{"start":1743971262642,"stop":1743971262644,"duration":2},"status":"passed","severity":"normal"},{"uid":"2ada6379e1b586c3","name":"should throw an error when page number exceeds total pages","time":{"start":1743971260846,"stop":1743971260852,"duration":6},"status":"passed","severity":"normal"},{"uid":"d599b2f2f14db190","name":"should throw BadRequestException when date format is invalid","time":{"start":1743971260730,"stop":1743971260733,"duration":3},"status":"passed","severity":"normal"},{"uid":"45091b248d112a50","name":"should throw NotFoundException if verification code is not found","time":{"start":1743971261036,"stop":1743971261039,"duration":3},"status":"passed","severity":"normal"},{"uid":"8ca167d41912cfdb","name":"should update an itinerary with defaults for missing block fields","time":{"start":1743971260712,"stop":1743971260721,"duration":9},"status":"passed","severity":"normal"},{"uid":"3a51db0faa80167d","name":"should create an itinerary with sections and blocks","time":{"start":1743971260628,"stop":1743971260637,"duration":9},"status":"passed","severity":"normal"},{"uid":"7f156e762cb15727","name":"should throw an error when API call fails","time":{"start":1743971263349,"stop":1743971263351,"duration":2},"status":"passed","severity":"normal"},{"uid":"c1fe08531d73ec17","name":"should throw ConflictException if user already exists and is confirmed","time":{"start":1743971261006,"stop":1743971261014,"duration":8},"status":"passed","severity":"normal"},{"uid":"a407baa396d33233","name":"should be defined","time":{"start":1743971262437,"stop":1743971262453,"duration":16},"status":"passed","severity":"normal"},{"uid":"b4376b652684999f","name":"should extract refresh token from cookies","time":{"start":1743971263076,"stop":1743971263078,"duration":2},"status":"passed","severity":"normal"},{"uid":"334bac5818419091","name":"should create a new user if user does not exist","time":{"start":1743971261019,"stop":1743971261022,"duration":3},"status":"passed","severity":"normal"},{"uid":"d7dc83ef088e71f8","name":"should throw NotFoundException if the itinerary does not exist","time":{"start":1743971261043,"stop":1743971261046,"duration":3},"status":"passed","severity":"normal"},{"uid":"8010237bd2f8d560","name":"should throw NotFoundException if the user to be removed is not a participant","time":{"start":1743971260991,"stop":1743971260993,"duration":2},"status":"passed","severity":"normal"},{"uid":"43c6113e721072d8","name":"should call service.validateLogin with correct ticketId","time":{"start":1743971263058,"stop":1743971263061,"duration":3},"status":"passed","severity":"normal"}]