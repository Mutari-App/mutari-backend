[{"uid":"29d10f3a6454fbb3","name":"should allow user to see itinerary if invited","time":{"start":1743912225226,"stop":1743912225229,"duration":3},"status":"passed","severity":"normal"},{"uid":"13f6732dff3ee07b","name":"should extract refresh token from cookies","time":{"start":1743912226945,"stop":1743912226948,"duration":3},"status":"passed","severity":"normal"},{"uid":"4c9b3976078f3b36","name":"should return new access and refresh tokens if refresh token is valid","time":{"start":1743912224323,"stop":1743912224329,"duration":6},"status":"passed","severity":"normal"},{"uid":"32f522e3c2180ffe","name":"should throw NotFoundException if the itinerary does not exist","time":{"start":1743912225380,"stop":1743912225382,"duration":2},"status":"passed","severity":"normal"},{"uid":"cdee663f8920575","name":"should return the authenticated user","time":{"start":1743912226511,"stop":1743912226513,"duration":2},"status":"passed","severity":"normal"},{"uid":"c1bb13515899e33b","name":"should call authService.register with correct data","time":{"start":1743912226507,"stop":1743912226509,"duration":2},"status":"passed","severity":"normal"},{"uid":"dc7dca378afd533c","name":"should handle optional fields in the DTO correctly","time":{"start":1743912225374,"stop":1743912225376,"duration":2},"status":"passed","severity":"normal"},{"uid":"1186ef62a31b160c","name":"should call authService.createUser and authService.sendVerification with correct data","time":{"start":1743912226502,"stop":1743912226505,"duration":3},"status":"passed","severity":"normal"},{"uid":"2748e5506b3885b0","name":"should create a new ticket for the user","time":{"start":1743912225525,"stop":1743912225534,"duration":9},"status":"passed","severity":"normal"},{"uid":"aef1ac7a6f770b5b","name":"should return new access and refresh tokens","time":{"start":1743912226482,"stop":1743912226486,"duration":4},"status":"passed","severity":"normal"},{"uid":"a1f18d530937fbbc","name":"should throw NotFoundException if the user to be removed is not a participant","time":{"start":1743912225386,"stop":1743912225389,"duration":3},"status":"passed","severity":"normal"},{"uid":"c2b04dcaa1cf7b74","name":"should throw BadRequestException when date format is invalid","time":{"start":1743912225098,"stop":1743912225135,"duration":37},"status":"passed","severity":"normal"},{"uid":"78e30c85874ab604","name":"should throw NotFoundException if the itinerary does not exist","time":{"start":1743912225513,"stop":1743912225516,"duration":3},"status":"passed","severity":"normal"},{"uid":"3bbfed33a68b52fa","name":"should throw an error for invalid page number","time":{"start":1743912225274,"stop":1743912225277,"duration":3},"status":"passed","severity":"normal"},{"uid":"a9a55d3b0ce4cf4","name":"should throw ForbiddenException if the user is not authorized to invite","time":{"start":1743912225516,"stop":1743912225519,"duration":3},"status":"passed","severity":"normal"},{"uid":"1f3dc55ba2b37f97","name":"should throw ForbiddenException if user is not the owner of the itinerary","time":{"start":1743912225359,"stop":1743912225361,"duration":2},"status":"passed","severity":"normal"},{"uid":"d20079cbcf346fe9","name":"should filter itineraries with shared=false and finished=false","time":{"start":1743912225393,"stop":1743912225395,"duration":2},"status":"passed","severity":"normal"},{"uid":"100f392eeee26898","name":"should be defined","time":{"start":1743912226476,"stop":1743912226486,"duration":10},"status":"passed","severity":"normal"},{"uid":"ecbe7fe32531aa1f","name":"should throw BadRequestException when start date is after end date","time":{"start":1743912225183,"stop":1743912225186,"duration":3},"status":"passed","severity":"normal"},{"uid":"ad1fd5eec9e8a310","name":"should throw ForbiddenException if the user is not the owner of the itinerary","time":{"start":1743912225382,"stop":1743912225386,"duration":4},"status":"passed","severity":"normal"},{"uid":"f9cc440eeaa441ef","name":"should return list of countries","time":{"start":1743912227164,"stop":1743912227166,"duration":2},"status":"passed","severity":"normal"},{"uid":"b10c81b9fd914ee7","name":"should throw an error when page number exceeds total pages","time":{"start":1743912225280,"stop":1743912225286,"duration":6},"status":"passed","severity":"normal"},{"uid":"4da59163cdac4d04","name":"should throw BadRequestException when no sections are provided","time":{"start":1743912225140,"stop":1743912225144,"duration":4},"status":"passed","severity":"normal"},{"uid":"e4de1a8cbe106b2b","name":"should return country details based on placeId","time":{"start":1743912226493,"stop":1743912226501,"duration":8},"status":"passed","severity":"normal"},{"uid":"6b83946c97a21648","name":"should return user referral code and count","time":{"start":1743912225503,"stop":1743912225512,"duration":9},"status":"passed","severity":"normal"},{"uid":"bfcc16363b63b015","name":"should return an empty array if there are no tags","time":{"start":1743912225349,"stop":1743912225351,"duration":2},"status":"passed","severity":"normal"},{"uid":"ac96b8136130381b","name":"should return an empty array when there are no completed itineraries","time":{"start":1743912225317,"stop":1743912225321,"duration":4},"status":"passed","severity":"normal"},{"uid":"41e96c4718aca164","name":"should return empty data when user has no shared itineraries","time":{"start":1743912225290,"stop":1743912225292,"duration":2},"status":"passed","severity":"normal"},{"uid":"c469a9498deaf200","name":"should log an error and return if UMAMI_DISCORD_WEBHOOK_URL is not set","time":{"start":1743912226025,"stop":1743912226027,"duration":2},"status":"passed","severity":"normal"},{"uid":"74283e5d29f142ec","name":"should throw UnauthorizedException if token has expired","time":{"start":1743912226004,"stop":1743912226008,"duration":4},"status":"passed","severity":"normal"},{"uid":"44454132343b136a","name":"should return all tags","time":{"start":1743912225501,"stop":1743912225507,"duration":6},"status":"passed","severity":"normal"},{"uid":"6e093cdb4f4ce858","name":"should throw NotFoundException if itinerary does not exist","time":{"start":1743912225393,"stop":1743912225396,"duration":3},"status":"passed","severity":"normal"},{"uid":"cd86a54eab12abcb","name":"should fetch analytics data and send to Discord","time":{"start":1743912226003,"stop":1743912226010,"duration":7},"status":"passed","severity":"normal"},{"uid":"d95c7ffa507f83d9","name":"should allow access if token is valid","time":{"start":1743912226001,"stop":1743912226004,"duration":3},"status":"passed","severity":"normal"},{"uid":"40793fce432ba3be","name":"should throw UnauthorizedException if user not found","time":{"start":1743912226942,"stop":1743912226945,"duration":3},"status":"passed","severity":"normal"},{"uid":"12cb6d2507a84c07","name":"should throw an error when page number exceeds total pages","time":{"start":1743912225296,"stop":1743912225301,"duration":5},"status":"passed","severity":"normal"},{"uid":"64046b52e27eedfc","name":"should remove an itinerary successfully","time":{"start":1743912225333,"stop":1743912225336,"duration":3},"status":"passed","severity":"normal"},{"uid":"20c10776b1907792","name":"should return empty data when there are no itineraries","time":{"start":1743912225456,"stop":1743912225459,"duration":3},"status":"passed","severity":"normal"},{"uid":"20f69eeec3137641","name":"should send an email successfully","time":{"start":1743912227273,"stop":1743912227275,"duration":2},"status":"passed","severity":"normal"},{"uid":"8928fb1c80d77c92","name":"should be defined","time":{"start":1743912225390,"stop":1743912225413,"duration":23},"status":"passed","severity":"normal"},{"uid":"8aab66e0714433bc","name":"should be defined","time":{"start":1743912227697,"stop":1743912227708,"duration":11},"status":"passed","severity":"normal"},{"uid":"212bde5257f940e2","name":"should throw UnauthorizedException if token is not provided","time":{"start":1743912225977,"stop":1743912225984,"duration":7},"status":"passed","severity":"normal"},{"uid":"86b28e77ed7bfff8","name":"should be defined","time":{"start":1743912225207,"stop":1743912225340,"duration":133},"status":"passed","severity":"normal"},{"uid":"4a1cf48824349a54","name":"should delete the oldest ticket if more than 5 exist","time":{"start":1743912225538,"stop":1743912225541,"duration":3},"status":"passed","severity":"normal"},{"uid":"c679f0d4f96b7a33","name":"should return empty itinerary array if no completed itineraries found","time":{"start":1743912225486,"stop":1743912225489,"duration":3},"status":"passed","severity":"normal"},{"uid":"841e8bdb4b4ad23f","name":"should throw ForbiddenException when user is not the owner","time":{"start":1743912225214,"stop":1743912225219,"duration":5},"status":"passed","severity":"normal"},{"uid":"27496d43521e99df","name":"should throw BadRequestException if user does not exist","time":{"start":1743912224356,"stop":1743912224360,"duration":4},"status":"passed","severity":"normal"},{"uid":"dcc2de64f36e9707","name":"should throw NotFoundException if itinerary does not exist","time":{"start":1743912225229,"stop":1743912225232,"duration":3},"status":"passed","severity":"normal"},{"uid":"64438e52c08543e3","name":"should be defined","time":{"start":1743912227882,"stop":1743912227887,"duration":5},"status":"passed","severity":"normal"},{"uid":"475efd90530b9e5b","name":"should return validation error if page is negative","time":{"start":1743912227299,"stop":1743912227303,"duration":4},"status":"passed","severity":"normal"},{"uid":"90fd424b9465fe7","name":"should handle errors if sending email fails","time":{"start":1743912227275,"stop":1743912227278,"duration":3},"status":"passed","severity":"normal"},{"uid":"fc2ebb99f441a4e9","name":"should handle negative page numbers","time":{"start":1743912225247,"stop":1743912225249,"duration":2},"status":"passed","severity":"normal"},{"uid":"99640805dfd94820","name":"should throw UnauthorizedException if emails do not match","time":{"start":1743912224386,"stop":1743912224398,"duration":12},"status":"passed","severity":"normal"},{"uid":"591eef10d057cabe","name":"should mark itinerary as complete","time":{"start":1743912225459,"stop":1743912225465,"duration":6},"status":"passed","severity":"normal"},{"uid":"6887546cab2e8122","name":"should return place details when API call is successful","time":{"start":1743912227165,"stop":1743912227168,"duration":3},"status":"passed","severity":"normal"},{"uid":"cbbd75e4ee413161","name":"should throw ConflictException if user already exists and is confirmed","time":{"start":1743912224344,"stop":1743912224348,"duration":4},"status":"passed","severity":"normal"},{"uid":"f6f7416dfe2d9e5c","name":"should throw ForbiddenException if user is not authorized","time":{"start":1743912225358,"stop":1743912225362,"duration":4},"status":"passed","severity":"normal"},{"uid":"c1fc25d955f3e982","name":"should throw UnauthorizedException if password is invalid","time":{"start":1743912224305,"stop":1743912224311,"duration":6},"status":"passed","severity":"normal"},{"uid":"c619cc5bc3cfa5e7","name":"should throw BadRequestException when start date is after end date","time":{"start":1743912225135,"stop":1743912225140,"duration":5},"status":"passed","severity":"normal"},{"uid":"c9b79ccc0a62dc9e","name":"should throw UnauthorizedException if refresh token is invalid","time":{"start":1743912226487,"stop":1743912226501,"duration":14},"status":"passed","severity":"normal"},{"uid":"298e156582040794","name":"should send verification email if user exists","time":{"start":1743912224367,"stop":1743912224377,"duration":10},"status":"passed","severity":"normal"},{"uid":"72e44468b322c6b9","name":"should update an itinerary and return a formatted response","time":{"start":1743912225489,"stop":1743912225492,"duration":3},"status":"passed","severity":"normal"},{"uid":"ae863d9b43642e2d","name":"should handle overflow page numbers","time":{"start":1743912225250,"stop":1743912225252,"duration":2},"status":"passed","severity":"normal"},{"uid":"9101d1912799d0cc","name":"should return country code response","time":{"start":1743912226501,"stop":1743912226505,"duration":4},"status":"passed","severity":"normal"},{"uid":"d121fbaeb9e20ae0","name":"should invite a user to an itinerary and return a formatted response","time":{"start":1743912225510,"stop":1743912225513,"duration":3},"status":"passed","severity":"normal"},{"uid":"d0f7daadb4d8110a","name":"should handle service errors correctly","time":{"start":1743912225395,"stop":1743912225398,"duration":3},"status":"passed","severity":"normal"},{"uid":"2a72037c9bde4527","name":"should throw UnauthorizedException if user not found","time":{"start":1743912225997,"stop":1743912226000,"duration":3},"status":"passed","severity":"normal"},{"uid":"5907373f30755d34","name":"should be defined","time":{"start":1743912227858,"stop":1743912227866,"duration":8},"status":"passed","severity":"normal"},{"uid":"36ca1c381cd3ccca","name":"should validate login ticket and return access token","time":{"start":1743912225481,"stop":1743912225486,"duration":5},"status":"passed","severity":"normal"},{"uid":"fa24115383afa58d","name":"should return list of countries","time":{"start":1743912226487,"stop":1743912226490,"duration":3},"status":"passed","severity":"normal"},{"uid":"928cf3c5ee741bab","name":"should be defined","time":{"start":1743912226929,"stop":1743912226935,"duration":6},"status":"passed","severity":"normal"},{"uid":"48a488aab42f61fe","name":"should parse JSON even if AI returns extra text","time":{"start":1743912226342,"stop":1743912226344,"duration":2},"status":"passed","severity":"normal"},{"uid":"3b4b7732ea4f11f6","name":"should throw NotFoundException when tags do not exist","time":{"start":1743912225198,"stop":1743912225201,"duration":3},"status":"passed","severity":"normal"},{"uid":"66434453fbb03c13","name":"should be defined","time":{"start":1743912226920,"stop":1743912226934,"duration":14},"status":"passed","severity":"normal"},{"uid":"7534c6a6b034bffa","name":"should return the itinerary if user is the owner","time":{"start":1743912225220,"stop":1743912225222,"duration":2},"status":"passed","severity":"normal"},{"uid":"ebfd7de70fc077db","name":"should throw an error for invalid page number","time":{"start":1743912225292,"stop":1743912225295,"duration":3},"status":"passed","severity":"normal"},{"uid":"8ad6ad813087d859","name":"should throw NotFoundException if itinerary does not exist","time":{"start":1743912225339,"stop":1743912225341,"duration":2},"status":"passed","severity":"normal"},{"uid":"68cd1e5b8ea20b4a","name":"should call authService.verify with correct data","time":{"start":1743912226505,"stop":1743912226507,"duration":2},"status":"passed","severity":"normal"},{"uid":"b20584d57761779b","name":"should create an itinerary with sections and blocks","time":{"start":1743912225083,"stop":1743912225091,"duration":8},"status":"passed","severity":"normal"},{"uid":"d6d056ab58968ccd","name":"should throw NotFoundException if the user to be removed does not exist","time":{"start":1743912225549,"stop":1743912225563,"duration":14},"status":"passed","severity":"normal"},{"uid":"3bb5ee517eb6fb38","name":"should handle service errors for shared itineraries","time":{"start":1743912225408,"stop":1743912225410,"duration":2},"status":"passed","severity":"normal"},{"uid":"f9e659bb78f94b54","name":"should be defined","time":{"start":1743912226326,"stop":1743912226338,"duration":12},"status":"passed","severity":"normal"},{"uid":"df5c53eee62886cd","name":"should throw BadRequestException if email is not registered","time":{"start":1743912225478,"stop":1743912225481,"duration":3},"status":"passed","severity":"normal"},{"uid":"647fa106ec8505e7","name":"should throw UnauthorizedException if ticket is expired","time":{"start":1743912225491,"stop":1743912225503,"duration":12},"status":"passed","severity":"normal"},{"uid":"4130eb634bf51361","name":"should be defined","time":{"start":1743912225005,"stop":1743912225080,"duration":75},"status":"passed","severity":"normal"},{"uid":"2b08122533192137","name":"should throw an error if itinerary is not found","time":{"start":1743912225499,"stop":1743912225501,"duration":2},"status":"passed","severity":"normal"},{"uid":"fbad0cb5d90c0c9d","name":"should throw ForbiddenException if user is not the owner","time":{"start":1743912225476,"stop":1743912225479,"duration":3},"status":"passed","severity":"normal"},{"uid":"5edb4dfdd82174fe","name":"should throw BadRequestException when no sections are provided","time":{"start":1743912225192,"stop":1743912225194,"duration":2},"status":"passed","severity":"normal"},{"uid":"1cce058c7f58ea2c","name":"should validate user if refresh token is valid","time":{"start":1743912226939,"stop":1743912226941,"duration":2},"status":"passed","severity":"normal"},{"uid":"b8f17e72c7104bb1","name":"should return an array of tags","time":{"start":1743912225342,"stop":1743912225348,"duration":6},"status":"passed","severity":"normal"},{"uid":"faa50a85485003e7","name":"should return itineraries successfully","time":{"start":1743912225446,"stop":1743912225449,"duration":3},"status":"passed","severity":"normal"},{"uid":"aca0130d641eb552","name":"should return only shared itineraries when sharedBool is true","time":{"start":1743912225260,"stop":1743912225263,"duration":3},"status":"passed","severity":"normal"},{"uid":"bd62abcbf2e44bd6","name":"should be defined","time":{"start":1743912227757,"stop":1743912227765,"duration":8},"status":"passed","severity":"normal"},{"uid":"ae0084035f3be19f","name":"should update an itinerary with defaults for deleted/missing fields","time":{"start":1743912225160,"stop":1743912225164,"duration":4},"status":"passed","severity":"normal"},{"uid":"48e6b2bd55ee350","name":"should create an itinerary and return a formatted response","time":{"start":1743912225362,"stop":1743912225366,"duration":4},"status":"passed","severity":"normal"},{"uid":"e3a15e974b84a0a1","name":"should delete expired refresh tokens","time":{"start":1743912224338,"stop":1743912224343,"duration":5},"status":"passed","severity":"normal"},{"uid":"a5d553f9d44b7dc3","name":"should call service.getReferralCode with the correct userId","time":{"start":1743912226947,"stop":1743912226949,"duration":2},"status":"passed","severity":"normal"},{"uid":"84a872f3c48612d4","name":"should call geminiService.generateFeedback with valid dto","time":{"start":1743912227081,"stop":1743912227084,"duration":3},"status":"passed","severity":"normal"},{"uid":"35c49b82e1481a3f","name":"should send analytics data to Discord","time":{"start":1743912226020,"stop":1743912226022,"duration":2},"status":"passed","severity":"normal"},{"uid":"89dfabc5ddc402d8","name":"should return empty list if user has no itineraries","time":{"start":1743912225253,"stop":1743912225255,"duration":2},"status":"passed","severity":"normal"},{"uid":"d649397e43400107","name":"should throw UnauthorizedException if refresh token is blacklisted","time":{"start":1743912224318,"stop":1743912224323,"duration":5},"status":"passed","severity":"normal"},{"uid":"2f2fa94883cef93e","name":"should update an itinerary with defaults for missing block fields","time":{"start":1743912225165,"stop":1743912225171,"duration":6},"status":"passed","severity":"normal"},{"uid":"17e769fc991e83c0","name":"should throw BadRequestException if last ticket is still valid","time":{"start":1743912225534,"stop":1743912225537,"duration":3},"status":"passed","severity":"normal"},{"uid":"586d2f849637d3fc","name":"should throw NotFoundException if itinerary does not exist","time":{"start":1743912225325,"stop":1743912225327,"duration":2},"status":"passed","severity":"normal"},{"uid":"a5da902083aeb5c1","name":"should return the pre-register count","time":{"start":1743912226938,"stop":1743912226941,"duration":3},"status":"passed","severity":"normal"},{"uid":"667700b34426c0b4","name":"should create an itinerary with default section title, empty blocks, and empty tags","time":{"start":1743912225092,"stop":1743912225097,"duration":5},"status":"passed","severity":"normal"},{"uid":"a181342fee0886c4","name":"should return place details when placeId is valid","time":{"start":1743912226791,"stop":1743912226803,"duration":12},"status":"passed","severity":"normal"},{"uid":"2754efe0f2f55511","name":"should return total pre-registered users count","time":{"start":1743912225468,"stop":1743912225471,"duration":3},"status":"passed","severity":"normal"},{"uid":"a40695fabb285de","name":"should throw NotFoundException if the invitation does not exist","time":{"start":1743912225522,"stop":1743912225524,"duration":2},"status":"passed","severity":"normal"},{"uid":"6e317952154612d9","name":"should return list of cities based on country","time":{"start":1743912226490,"stop":1743912226492,"duration":2},"status":"passed","severity":"normal"},{"uid":"a951e464991bedf8","name":"should return an empty array if no tags are found","time":{"start":1743912225507,"stop":1743912225510,"duration":3},"status":"passed","severity":"normal"},{"uid":"eb74d0631b827553","name":"should pass errors from service to the caller","time":{"start":1743912225367,"stop":1743912225371,"duration":4},"status":"passed","severity":"normal"},{"uid":"a1a7e18c143dc530","name":"should throw NotFoundException if referral code is not found","time":{"start":1743912225465,"stop":1743912225468,"duration":3},"status":"passed","severity":"normal"},{"uid":"d5a48533ace295a4","name":"should mark itinerary as complete","time":{"start":1743912225322,"stop":1743912225324,"duration":2},"status":"passed","severity":"normal"},{"uid":"7d6c63556450cb14","name":"should throw InternalServerErrorException on AI error","time":{"start":1743912226345,"stop":1743912226349,"duration":4},"status":"passed","severity":"normal"},{"uid":"4f6ba501417db5fd","name":"should throw UnauthorizedException if password is incorrect","time":{"start":1743912226479,"stop":1743912226482,"duration":3},"status":"passed","severity":"normal"},{"uid":"8efad73f99fdd10a","name":"should throw ForbiddenException if user is not authorized","time":{"start":1743912225232,"stop":1743912225237,"duration":5},"status":"passed","severity":"normal"},{"uid":"5d83ed12dc320083","name":"should throw NotFoundException if itinerary does not exist","time":{"start":1743912225355,"stop":1743912225358,"duration":3},"status":"passed","severity":"normal"},{"uid":"b8cbc08e0ed17de1","name":"should throw an error if placeId is not provided","time":{"start":1743912227149,"stop":1743912227164,"duration":15},"status":"passed","severity":"normal"},{"uid":"ef832109609e31a7","name":"should return itineraryId if user already has access to the itinerary","time":{"start":1743912225365,"stop":1743912225368,"duration":3},"status":"passed","severity":"normal"},{"uid":"a52b10fcd0a8b0df","name":"should throw NotFoundException if itineraryId is not found when accepting an invitation","time":{"start":1743912225371,"stop":1743912225373,"duration":2},"status":"passed","severity":"normal"},{"uid":"a4fd07cb9de024f1","name":"should call service.validateLogin with correct ticketId","time":{"start":1743912226944,"stop":1743912226947,"duration":3},"status":"passed","severity":"normal"},{"uid":"8dab5b31b2d82fa3","name":"should throw BadRequestException if requesting too fast","time":{"start":1743912224360,"stop":1743912224363,"duration":3},"status":"passed","severity":"normal"},{"uid":"af863e1fe630604","name":"should be defined","time":{"start":1743912227152,"stop":1743912227163,"duration":11},"status":"passed","severity":"normal"},{"uid":"b6cb3bb1b6f41e83","name":"should throw NotFoundException if user is not found","time":{"start":1743912224446,"stop":1743912224579,"duration":133},"status":"passed","severity":"normal"},{"uid":"f9543005919588eb","name":"should create a contingency plan with sections and blocks","time":{"start":1743912225390,"stop":1743912225393,"duration":3},"status":"passed","severity":"normal"},{"uid":"3c5e18c62e1c1802","name":"should update user and send registration email if verification is successful","time":{"start":1743912224581,"stop":1743912224586,"duration":5},"status":"passed","severity":"normal"},{"uid":"6ce6beb6bd2b930","name":"should be defined","time":{"start":1743912227585,"stop":1743912227594,"duration":9},"status":"passed","severity":"normal"},{"uid":"63555fab62b78e91","name":"should return paginated itineraries","time":{"start":1743912225241,"stop":1743912225246,"duration":5},"status":"passed","severity":"normal"},{"uid":"c70b549dd925c053","name":"should return the correct start and end timestamps for the previous month","time":{"start":1743912226017,"stop":1743912226019,"duration":2},"status":"passed","severity":"normal"},{"uid":"bd5a6b4ec786cfdc","name":"should throw BadRequestException when duplicate section numbers are provided","time":{"start":1743912225145,"stop":1743912225148,"duration":3},"status":"passed","severity":"normal"},{"uid":"4e78350b4d4e3aa2","name":"should return empty data when there are no shared itineraries","time":{"start":1743912225405,"stop":1743912225407,"duration":2},"status":"passed","severity":"normal"},{"uid":"bb24da1ef9194319","name":"should accept an itinerary invitation and link the user to the itinerary using itineraryId","time":{"start":1743912225362,"stop":1743912225365,"duration":3},"status":"passed","severity":"normal"},{"uid":"5d66b982bd58894c","name":"should filter itineraries with shared=true and finished=true","time":{"start":1743912225389,"stop":1743912225392,"duration":3},"status":"passed","severity":"normal"},{"uid":"1f05a38cc79d40bf","name":"should return only completed itineraries when finishedBool is true","time":{"start":1743912225266,"stop":1743912225271,"duration":5},"status":"passed","severity":"normal"},{"uid":"3b3bec4752063175","name":"should throw BadRequestException if user was created recently and is not confirmed","time":{"start":1743912224348,"stop":1743912224351,"duration":3},"status":"passed","severity":"normal"},{"uid":"ac972d0863a1ff74","name":"should throw an error if itineraryData.sections is empty","time":{"start":1743912227077,"stop":1743912227081,"duration":4},"status":"passed","severity":"normal"},{"uid":"69056392352a8af1","name":"should send webhook for login-validation","time":{"start":1743912225572,"stop":1743912225578,"duration":6},"status":"passed","severity":"normal"},{"uid":"8718b1810fac29ef","name":"should return 401 Unauthorized if UMAMI_API_KEY is not set","time":{"start":1743912226014,"stop":1743912226017,"duration":3},"status":"passed","severity":"normal"},{"uid":"9ef07b8c8f52a778","name":"should throw UnauthorizedException if email is not registered","time":{"start":1743912226475,"stop":1743912226479,"duration":4},"status":"passed","severity":"normal"},{"uid":"e3524bd1c8abce53","name":"should throw NotFoundException when itinerary does not exist","time":{"start":1743912225202,"stop":1743912225213,"duration":11},"status":"passed","severity":"normal"},{"uid":"60c8fc8b2cbbcd8f","name":"should throw BadRequestException when duplicate section numbers are provided","time":{"start":1743912225195,"stop":1743912225198,"duration":3},"status":"passed","severity":"normal"},{"uid":"ed099ef44f892510","name":"should be defined","time":{"start":1743912227742,"stop":1743912227750,"duration":8},"status":"passed","severity":"normal"},{"uid":"3d00ec1d5eb5227b","name":"should throw UnauthorizedException if token is invalid","time":{"start":1743912225986,"stop":1743912225989,"duration":3},"status":"passed","severity":"normal"},{"uid":"e03de44ca046ecaf","name":"should return shared itineraries successfully","time":{"start":1743912225399,"stop":1743912225404,"duration":5},"status":"passed","severity":"normal"},{"uid":"c64e97a0a8d2da84","name":"should create a new user if user does not exist","time":{"start":1743912224351,"stop":1743912224355,"duration":4},"status":"passed","severity":"normal"},{"uid":"50bd870b3ec7b7b1","name":"should be defined","time":{"start":1743912225977,"stop":1743912226002,"duration":25},"status":"passed","severity":"normal"},{"uid":"3fc5d0e15c4ecbfb","name":"should throw ForbiddenException if the user is not authorized to remove participants","time":{"start":1743912225564,"stop":1743912225567,"duration":3},"status":"passed","severity":"normal"},{"uid":"a8ee0509cfc0b1bf","name":"should throw an error for invalid page number","time":{"start":1743912225449,"stop":1743912225456,"duration":7},"status":"passed","severity":"normal"},{"uid":"c89f5fbbf5adcd5c","name":"should create a new user and send confirmation email","time":{"start":1743912225414,"stop":1743912225455,"duration":41},"status":"passed","severity":"normal"},{"uid":"e6482fb4b45c60f1","name":"should throw NotFoundException if the itinerary does not exist","time":{"start":1743912225537,"stop":1743912225548,"duration":11},"status":"passed","severity":"normal"},{"uid":"b834056e0997d71f","name":"should not send webhook if DISCORD_WEBHOOK_URL is not set","time":{"start":1743912225541,"stop":1743912225545,"duration":4},"status":"passed","severity":"normal"},{"uid":"340b8f33c486e030","name":"should accept an itinerary invitation","time":{"start":1743912225519,"stop":1743912225521,"duration":2},"status":"passed","severity":"normal"},{"uid":"dbfcc3340917bc32","name":"should handle Discord webhook errors gracefully","time":{"start":1743912226023,"stop":1743912226025,"duration":2},"status":"passed","severity":"normal"},{"uid":"c387ddeafbb33b27","name":"should be defined","time":{"start":1743912227062,"stop":1743912227077,"duration":15},"status":"passed","severity":"normal"},{"uid":"93a2942ceb56c931","name":"should return completed itineraries with response formatting","time":{"start":1743912225483,"stop":1743912225486,"duration":3},"status":"passed","severity":"normal"},{"uid":"84d74d42aef516c5","name":"should be defined","time":{"start":1743912227886,"stop":1743912227891,"duration":5},"status":"passed","severity":"normal"},{"uid":"e52e6f1a41431d91","name":"should throw NotFoundException if verification code is not found","time":{"start":1743912224377,"stop":1743912224385,"duration":8},"status":"passed","severity":"normal"},{"uid":"7781b57272f6bbd8","name":"should throw BadRequestException when date format is invalid","time":{"start":1743912225181,"stop":1743912225183,"duration":2},"status":"passed","severity":"normal"},{"uid":"62459143c0b4d02e","name":"should throw UnauthorizedException if user is not found","time":{"start":1743912224253,"stop":1743912224303,"duration":50},"status":"passed","severity":"normal"},{"uid":"9644f9c8a48da060","name":"should allow page to be optional","time":{"start":1743912227304,"stop":1743912227305,"duration":1},"status":"passed","severity":"normal"},{"uid":"671d13f9148ce61f","name":"should delete the oldest ticket if there are too many","time":{"start":1743912224363,"stop":1743912224367,"duration":4},"status":"passed","severity":"normal"},{"uid":"f31ac926ff8fd1ff","name":"should return itineraries shared with the user","time":{"start":1743912225286,"stop":1743912225289,"duration":3},"status":"passed","severity":"normal"},{"uid":"40602aa9524c1e36","name":"should return completed itineraries with locationCount","time":{"start":1743912225304,"stop":1743912225310,"duration":6},"status":"passed","severity":"normal"},{"uid":"47fa6c6eff4519a6","name":"should throw BadRequestException if email is already registered","time":{"start":1743912225456,"stop":1743912225464,"duration":8},"status":"passed","severity":"normal"},{"uid":"c6031e6267c546fd","name":"should throw ForbiddenException if the user is not authorized to accept the invitation","time":{"start":1743912225525,"stop":1743912225527,"duration":2},"status":"passed","severity":"normal"},{"uid":"1355c2938abb36f2","name":"should send webhook for pre-registration","time":{"start":1743912225545,"stop":1743912225572,"duration":27},"status":"passed","severity":"normal"},{"uid":"d5a18b4625fac821","name":"should remove a user from the itinerary successfully","time":{"start":1743912225377,"stop":1743912225379,"duration":2},"status":"passed","severity":"normal"},{"uid":"c6733c4c56bc7f06","name":"should return itinerary when found and user has access to it","time":{"start":1743912225223,"stop":1743912225226,"duration":3},"status":"passed","severity":"normal"},{"uid":"89fb0d3c70250c47","name":"should throw NotFoundException if the pending invitation does not exist","time":{"start":1743912225368,"stop":1743912225370,"duration":2},"status":"passed","severity":"normal"},{"uid":"b5a5139204180d7c","name":"should throw NotFoundException when tags do not exist","time":{"start":1743912225149,"stop":1743912225153,"duration":4},"status":"passed","severity":"normal"},{"uid":"57e09cf22ea4538f","name":"should throw an error when API call fails","time":{"start":1743912227169,"stop":1743912227172,"duration":3},"status":"passed","severity":"normal"},{"uid":"ad96d32061ccb14b","name":"should throw NotFoundException if itinerary does not exist","time":{"start":1743912225470,"stop":1743912225473,"duration":3},"status":"passed","severity":"normal"},{"uid":"ac4bd406683f200a","name":"should return an itinerary when found","time":{"start":1743912225343,"stop":1743912225349,"duration":6},"status":"passed","severity":"normal"},{"uid":"aabf45aedbd5dae3","name":"should allow access if the route is public","time":{"start":1743912225973,"stop":1743912225976,"duration":3},"status":"passed","severity":"normal"},{"uid":"741a3c60585036b1","name":"should create an itinerary without tags","time":{"start":1743912225371,"stop":1743912225373,"duration":2},"status":"passed","severity":"normal"},{"uid":"8b46e6da1d10cfdf","name":"should call service.login with the correct email","time":{"start":1743912226941,"stop":1743912226944,"duration":3},"status":"passed","severity":"normal"},{"uid":"a3b8f2cc11e8bb9c","name":"should throw UnauthorizedException for invalid ticket","time":{"start":1743912225486,"stop":1743912225490,"duration":4},"status":"passed","severity":"normal"},{"uid":"da720e4ce4689227","name":"should throw an error if placeId is not provided","time":{"start":1743912226804,"stop":1743912226807,"duration":3},"status":"passed","severity":"normal"},{"uid":"27239cbd45911451","name":"should return all itineraries with default parameters","time":{"start":1743912225385,"stop":1743912225388,"duration":3},"status":"passed","severity":"normal"},{"uid":"2c3e5e7d87667bb2","name":"should throw NotFound if user email is not found to accept the invitation","time":{"start":1743912225374,"stop":1743912225376,"duration":2},"status":"passed","severity":"normal"},{"uid":"251e806cf9684ff5","name":"should return \"Hello World!\"","time":{"start":1743912227441,"stop":1743912227451,"duration":10},"status":"passed","severity":"normal"},{"uid":"94b4008d5be1114d","name":"should return access and refresh tokens if login is successful","time":{"start":1743912224312,"stop":1743912224318,"duration":6},"status":"passed","severity":"normal"},{"uid":"2d8475fe6e457170","name":"should throw ForbiddenException if user does not own the itinerary","time":{"start":1743912225396,"stop":1743912225401,"duration":5},"status":"passed","severity":"normal"},{"uid":"453dee4ad01edc5a","name":"should throw NotFoundException if itinerary does not exist","time":{"start":1743912225171,"stop":1743912225177,"duration":6},"status":"passed","severity":"normal"},{"uid":"b5c3d674ad48962c","name":"should throw BadRequestException if passwords do not match","time":{"start":1743912224438,"stop":1743912224445,"duration":7},"status":"passed","severity":"normal"},{"uid":"5fcd29dfaebc3633","name":"should throw UnauthorizedException if firstNames do not match","time":{"start":1743912224407,"stop":1743912224437,"duration":30},"status":"passed","severity":"normal"},{"uid":"e48ed655721d0b8","name":"should throw ForbiddenException if user does not own the itinerary","time":{"start":1743912225177,"stop":1743912225180,"duration":3},"status":"passed","severity":"normal"},{"uid":"3dc3767475172579","name":"should be defined","time":{"start":1743912227533,"stop":1743912227547,"duration":14},"status":"passed","severity":"normal"},{"uid":"7819523d97b14e04","name":"should call remove() in the service and delete an itinerary","time":{"start":1743912225496,"stop":1743912225498,"duration":2},"status":"passed","severity":"normal"},{"uid":"41d8c0614169a914","name":"should send invitations to the provided emails","time":{"start":1743912225352,"stop":1743912225355,"duration":3},"status":"passed","severity":"normal"},{"uid":"6aacb56fda6975d1","name":"should correctly count LOCATION blocks","time":{"start":1743912225311,"stop":1743912225316,"duration":5},"status":"passed","severity":"normal"},{"uid":"9d72101440beaedf","name":"should return parsed feedback array from AI response","time":{"start":1743912226339,"stop":1743912226341,"duration":2},"status":"passed","severity":"normal"},{"uid":"544bbe0153de9107","name":"should return paginated itineraries for both owned and shared when sharedBool is false","time":{"start":1743912225256,"stop":1743912225260,"duration":4},"status":"passed","severity":"normal"},{"uid":"a782a5d1bfb86a36","name":"should handle errors if fetch fails","time":{"start":1743912225579,"stop":1743912225582,"duration":3},"status":"passed","severity":"normal"},{"uid":"4b128c6c1baa91cc","name":"should throw NotFoundException if itinerary is not found","time":{"start":1743912225350,"stop":1743912225357,"duration":7},"status":"passed","severity":"normal"},{"uid":"2d9503d89183895","name":"should throw BadRequestException when block start time is after end time","time":{"start":1743912225186,"stop":1743912225189,"duration":3},"status":"passed","severity":"normal"},{"uid":"63290eb037cd07e1","name":"should call service.createPreRegister with correct data","time":{"start":1743912226935,"stop":1743912226938,"duration":3},"status":"passed","severity":"normal"},{"uid":"14d316fcf125342c","name":"should return access and refresh tokens on successful login","time":{"start":1743912226452,"stop":1743912226474,"duration":22},"status":"passed","severity":"normal"},{"uid":"23ec7c7cc6c557d1","name":"should throw ForbiddenException if user is not the owner","time":{"start":1743912225327,"stop":1743912225333,"duration":6},"status":"passed","severity":"normal"},{"uid":"1ca056555bd48cea","name":"should clear refreshToken cookie","time":{"start":1743912226509,"stop":1743912226511,"duration":2},"status":"passed","severity":"normal"},{"uid":"67cfce18973bf2c1","name":"should handle service errors properly","time":{"start":1743912226807,"stop":1743912226810,"duration":3},"status":"passed","severity":"normal"},{"uid":"89a6b4e8b77536ac","name":"should be defined","time":{"start":1743912227264,"stop":1743912227272,"duration":8},"status":"passed","severity":"normal"},{"uid":"f70782ace9609cd4","name":"should be defined","time":{"start":1743912225932,"stop":1743912225971,"duration":39},"status":"passed","severity":"normal"},{"uid":"1776da4943265da","name":"should return list of cities","time":{"start":1743912227169,"stop":1743912227178,"duration":9},"status":"passed","severity":"normal"},{"uid":"96618cd9c5a9d985","name":"should pass errors from service to the caller","time":{"start":1743912225493,"stop":1743912225495,"duration":2},"status":"passed","severity":"normal"},{"uid":"5022db76844b9346","name":"should handle fetch errors gracefully","time":{"start":1743912226010,"stop":1743912226014,"duration":4},"status":"passed","severity":"normal"},{"uid":"91306f94a008ef01","name":"should send login email if user exists","time":{"start":1743912225472,"stop":1743912225477,"duration":5},"status":"passed","severity":"normal"},{"uid":"3cbd54cfda58fc7f","name":"should remove a user from an itinerary and return a formatted response","time":{"start":1743912225528,"stop":1743912225537,"duration":9},"status":"passed","severity":"normal"},{"uid":"1eb5cf50196aa71b","name":"should update an itinerary with new details, tags, sections, and blocks","time":{"start":1743912225153,"stop":1743912225159,"duration":6},"status":"passed","severity":"normal"},{"uid":"17c7100b1af67aaa","name":"should throw BadRequestException if user is not found","time":{"start":1743912225513,"stop":1743912225524,"duration":11},"status":"passed","severity":"normal"},{"uid":"6db57bee3cc662dd","name":"should transform page to a number","time":{"start":1743912227295,"stop":1743912227299,"duration":4},"status":"passed","severity":"normal"},{"uid":"47ce2858f66b21dc","name":"should return country code","time":{"start":1743912227167,"stop":1743912227169,"duration":2},"status":"passed","severity":"normal"}]